{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /**\n   * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n   *\n   * @example\n   *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n   *      return [1000, 5000, 10000][tries - 1] || 10000\n   *    })\n   *    reconnectTimer.scheduleTimeout() // fires after 1000\n   *    reconnectTimer.scheduleTimeout() // fires after 5000\n   *    reconnectTimer.reset()\n   *    reconnectTimer.scheduleTimeout() // fires after 1000\n   */\n  var Timer = /*#__PURE__*/function () {\n    function Timer(callback, timerCalc) {\n      _classCallCheck(this, Timer);\n      this.callback = callback;\n      this.timerCalc = timerCalc;\n      this.timer = undefined;\n      this.tries = 0;\n      this.callback = callback;\n      this.timerCalc = timerCalc;\n    }\n    return _createClass(Timer, [{\n      key: \"reset\",\n      value: function reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n        this.timer = undefined;\n      }\n      // Cancels any previous scheduleTimeout and schedules callback\n    }, {\n      key: \"scheduleTimeout\",\n      value: function scheduleTimeout() {\n        var _this = this;\n        clearTimeout(this.timer);\n        this.timer = setTimeout(function () {\n          _this.tries = _this.tries + 1;\n          _this.callback();\n        }, this.timerCalc(this.tries + 1));\n      }\n    }]);\n  }();\n  exports.default = Timer;\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,2,0,"Object"],[6,8,2,6],[6,9,2,7,"defineProperty"],[6,23,2,21],[6,24,2,22,"exports"],[6,31,2,29],[6,33,2,31],[6,45,2,43],[6,47,2,45],[7,4,2,47,"value"],[7,9,2,52],[7,11,2,54],[8,2,2,59],[8,3,2,60],[8,4,2,61],[9,2,3,0],[10,0,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,2,3,0],[21,6,15,6,"Timer"],[21,11,15,11],[22,4,16,4],[22,13,16,4,"Timer"],[22,19,16,16,"callback"],[22,27,16,24],[22,29,16,26,"timerCalc"],[22,38,16,35],[22,40,16,37],[23,6,16,37,"_classCallCheck"],[23,21,16,37],[23,28,16,37,"Timer"],[23,33,16,37],[24,6,17,8],[24,10,17,12],[24,11,17,13,"callback"],[24,19,17,21],[24,22,17,24,"callback"],[24,30,17,32],[25,6,18,8],[25,10,18,12],[25,11,18,13,"timerCalc"],[25,20,18,22],[25,23,18,25,"timerCalc"],[25,32,18,34],[26,6,19,8],[26,10,19,12],[26,11,19,13,"timer"],[26,16,19,18],[26,19,19,21,"undefined"],[26,28,19,30],[27,6,20,8],[27,10,20,12],[27,11,20,13,"tries"],[27,16,20,18],[27,19,20,21],[27,20,20,22],[28,6,21,8],[28,10,21,12],[28,11,21,13,"callback"],[28,19,21,21],[28,22,21,24,"callback"],[28,30,21,32],[29,6,22,8],[29,10,22,12],[29,11,22,13,"timerCalc"],[29,20,22,22],[29,23,22,25,"timerCalc"],[29,32,22,34],[30,4,23,4],[31,4,23,5],[31,11,23,5,"_createClass"],[31,23,23,5],[31,24,23,5,"Timer"],[31,29,23,5],[32,6,23,5,"key"],[32,9,23,5],[33,6,23,5,"value"],[33,11,23,5],[33,13,24,4],[33,22,24,4,"reset"],[33,27,24,9,"reset"],[33,28,24,9],[33,30,24,12],[34,8,25,8],[34,12,25,12],[34,13,25,13,"tries"],[34,18,25,18],[34,21,25,21],[34,22,25,22],[35,8,26,8,"clearTimeout"],[35,20,26,20],[35,21,26,21],[35,25,26,25],[35,26,26,26,"timer"],[35,31,26,31],[35,32,26,32],[36,8,27,8],[36,12,27,12],[36,13,27,13,"timer"],[36,18,27,18],[36,21,27,21,"undefined"],[36,30,27,30],[37,6,28,4],[38,6,29,4],[39,4,29,4],[40,6,29,4,"key"],[40,9,29,4],[41,6,29,4,"value"],[41,11,29,4],[41,13,30,4],[41,22,30,4,"scheduleTimeout"],[41,37,30,19,"scheduleTimeout"],[41,38,30,19],[41,40,30,22],[42,8,30,22],[42,12,30,22,"_this"],[42,17,30,22],[43,8,31,8,"clearTimeout"],[43,20,31,20],[43,21,31,21],[43,25,31,25],[43,26,31,26,"timer"],[43,31,31,31],[43,32,31,32],[44,8,32,8],[44,12,32,12],[44,13,32,13,"timer"],[44,18,32,18],[44,21,32,21,"setTimeout"],[44,31,32,31],[44,32,32,32],[44,44,32,38],[45,10,33,12,"_this"],[45,15,33,16],[45,16,33,17,"tries"],[45,21,33,22],[45,24,33,25,"_this"],[45,29,33,29],[45,30,33,30,"tries"],[45,35,33,35],[45,38,33,38],[45,39,33,39],[46,10,34,12,"_this"],[46,15,34,16],[46,16,34,17,"callback"],[46,24,34,25],[46,25,34,26],[46,26,34,27],[47,8,35,8],[47,9,35,9],[47,11,35,11],[47,15,35,15],[47,16,35,16,"timerCalc"],[47,25,35,25],[47,26,35,26],[47,30,35,30],[47,31,35,31,"tries"],[47,36,35,36],[47,39,35,39],[47,40,35,40],[47,41,35,41],[47,42,35,42],[48,6,36,4],[49,4,36,5],[50,2,36,5],[51,2,38,0,"exports"],[51,9,38,7],[51,10,38,8,"default"],[51,17,38,15],[51,20,38,18,"Timer"],[51,25,38,23],[52,0,38,24],[52,3]],"functionMap":{"names":["<global>","Timer","Timer#constructor","Timer#reset","Timer#scheduleTimeout","setTimeout$argument_0"],"mappings":"AAA;ACc;ICC;KDO;IEC;KFI;IGE;gCCE;SDG;KHC;CDC"},"hasCjsExports":true},"type":"js/module"}]}