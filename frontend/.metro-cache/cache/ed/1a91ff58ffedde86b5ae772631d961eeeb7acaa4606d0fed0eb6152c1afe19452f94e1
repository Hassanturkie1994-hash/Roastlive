{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"../utils/xpSystem","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":90,"index":134}}],"key":"BefdMPKE2u3lqBx9U/8JQOQ2gtM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.awardXP = awardXP;\n  exports.awardBattleXP = awardBattleXP;\n  exports.awardStreamXP = awardStreamXP;\n  exports.getUserXPInfo = getUserXPInfo;\n  exports.getLeaderboard = getLeaderboard;\n  exports.getUserRank = getUserRank;\n  exports.updateBadges = updateBadges;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  var _utilsXpSystem = require(_dependencyMap[2], \"../utils/xpSystem\");\n  /**\n   * Award XP to a user\n   */\n  function awardXP(_x, _x2, _x3, _x4) {\n    return _awardXP.apply(this, arguments);\n  }\n  /**\n   * Award XP for battle result\n   */\n  function _awardXP() {\n    _awardXP = (0, _asyncToGenerator.default)(function* (userId, amount, reason, referenceId) {\n      try {\n        // Call the database function\n        var _yield$supabase$rpc = yield _libSupabase.supabase.rpc('award_xp', {\n            p_user_id: userId,\n            p_amount: amount,\n            p_reason: reason,\n            p_reference_id: referenceId\n          }),\n          data = _yield$supabase$rpc.data,\n          error = _yield$supabase$rpc.error;\n        if (error) throw error;\n\n        // Get previous level\n        var _yield$supabase$from$ = yield _libSupabase.supabase.from('profiles').select('level').eq('id', userId).single(),\n          profile = _yield$supabase$from$.data;\n        var previousLevel = profile?.level || 1;\n        var leveledUp = data.level > previousLevel;\n        return {\n          success: true,\n          newXP: data.total_xp,\n          newLevel: data.level,\n          leveledUp,\n          rankTitle: data.rank_title\n        };\n      } catch (error) {\n        console.error('Award XP error:', error);\n        return {\n          success: false,\n          error: error.message || 'Failed to award XP'\n        };\n      }\n    });\n    return _awardXP.apply(this, arguments);\n  }\n  function awardBattleXP(_x5, _x6, _x7, _x8) {\n    return _awardBattleXP.apply(this, arguments);\n  }\n  /**\n   * Award XP for stream completion\n   */\n  function _awardBattleXP() {\n    _awardBattleXP = (0, _asyncToGenerator.default)(function* (userId, won, tie, matchId) {\n      var amount = tie ? _utilsXpSystem.XP_REWARDS.BATTLE_TIE : won ? _utilsXpSystem.XP_REWARDS.BATTLE_WIN : _utilsXpSystem.XP_REWARDS.BATTLE_LOSS;\n      var reason = tie ? 'Battle Tie' : won ? 'Battle Victory' : 'Battle Participation';\n\n      // Update win streak\n      yield _libSupabase.supabase.rpc('update_win_streak', {\n        p_user_id: userId,\n        p_won: won && !tie\n      });\n      return awardXP(userId, amount, reason, matchId);\n    });\n    return _awardBattleXP.apply(this, arguments);\n  }\n  function awardStreamXP(_x9, _x0, _x1) {\n    return _awardStreamXP.apply(this, arguments);\n  }\n  /**\n   * Get user's XP and level info\n   */\n  function _awardStreamXP() {\n    _awardStreamXP = (0, _asyncToGenerator.default)(function* (userId, durationMinutes, streamId) {\n      var amount = _utilsXpSystem.XP_REWARDS.STREAM_COMPLETE;\n      var reason = 'Stream Completed';\n      if (durationMinutes >= 60) {\n        amount = _utilsXpSystem.XP_REWARDS.STREAM_60_MIN;\n        reason = 'Stream 60+ Minutes';\n      } else if (durationMinutes >= 30) {\n        amount = _utilsXpSystem.XP_REWARDS.STREAM_30_MIN;\n        reason = 'Stream 30+ Minutes';\n      }\n\n      // Increment total streams\n      yield _libSupabase.supabase.from('profiles').update({\n        total_streams: _libSupabase.supabase.sql`total_streams + 1`\n      }).eq('id', userId);\n      return awardXP(userId, amount, reason, streamId);\n    });\n    return _awardStreamXP.apply(this, arguments);\n  }\n  function getUserXPInfo(_x10) {\n    return _getUserXPInfo.apply(this, arguments);\n  }\n  /**\n   * Get leaderboard (top 100)\n   */\n  function _getUserXPInfo() {\n    _getUserXPInfo = (0, _asyncToGenerator.default)(function* (userId) {\n      try {\n        var _yield$supabase$from$2 = yield _libSupabase.supabase.from('profiles').select('total_xp, level, rank_title, badges, current_win_streak, longest_win_streak').eq('id', userId).single(),\n          data = _yield$supabase$from$2.data,\n          error = _yield$supabase$from$2.error;\n        if (error) throw error;\n        var _calculateLevel = (0, _utilsXpSystem.calculateLevel)(data.total_xp),\n          level = _calculateLevel.level,\n          currentLevelXP = _calculateLevel.currentLevelXP,\n          nextLevelXP = _calculateLevel.nextLevelXP,\n          progress = _calculateLevel.progress;\n        return {\n          totalXP: data.total_xp,\n          level: data.level,\n          rankTitle: data.rank_title,\n          badges: data.badges || [],\n          currentWinStreak: data.current_win_streak,\n          longestWinStreak: data.longest_win_streak,\n          currentLevelXP,\n          nextLevelXP,\n          progress\n        };\n      } catch (error) {\n        console.error('Get XP info error:', error);\n        return null;\n      }\n    });\n    return _getUserXPInfo.apply(this, arguments);\n  }\n  function getLeaderboard() {\n    return _getLeaderboard.apply(this, arguments);\n  }\n  /**\n   * Get user's leaderboard rank\n   */\n  function _getLeaderboard() {\n    _getLeaderboard = (0, _asyncToGenerator.default)(function* () {\n      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      try {\n        var _yield$supabase$from$3 = yield _libSupabase.supabase.from('leaderboard').select('*').limit(limit),\n          data = _yield$supabase$from$3.data,\n          error = _yield$supabase$from$3.error;\n        if (error) throw error;\n        return data || [];\n      } catch (error) {\n        console.error('Get leaderboard error:', error);\n        return [];\n      }\n    });\n    return _getLeaderboard.apply(this, arguments);\n  }\n  function getUserRank(_x11) {\n    return _getUserRank.apply(this, arguments);\n  }\n  /**\n   * Check and award badges\n   */\n  function _getUserRank() {\n    _getUserRank = (0, _asyncToGenerator.default)(function* (userId) {\n      try {\n        var _yield$supabase$from$4 = yield _libSupabase.supabase.from('leaderboard').select('rank').eq('id', userId).single(),\n          data = _yield$supabase$from$4.data,\n          error = _yield$supabase$from$4.error;\n        if (error) throw error;\n        return data?.rank || null;\n      } catch (error) {\n        console.error('Get user rank error:', error);\n        return null;\n      }\n    });\n    return _getUserRank.apply(this, arguments);\n  }\n  function updateBadges(_x12) {\n    return _updateBadges.apply(this, arguments);\n  }\n  function _updateBadges() {\n    _updateBadges = (0, _asyncToGenerator.default)(function* (userId) {\n      try {\n        // Get user stats\n        var _yield$supabase$from$5 = yield _libSupabase.supabase.from('profiles').select(`\n        total_streams,\n        total_battles,\n        current_win_streak,\n        level,\n        gifts_sent,\n        follower_count\n      `).eq('id', userId).single(),\n          profile = _yield$supabase$from$5.data;\n        if (!profile) return;\n\n        // Get user's rank\n        var rank = yield getUserRank(userId);\n\n        // Check which badges they should have\n        var earnedBadges = (0, _utilsXpSystem.checkBadges)({\n          ...profile,\n          leaderboard_rank: rank || undefined\n        });\n\n        // Update badges\n        yield _libSupabase.supabase.from('profiles').update({\n          badges: earnedBadges\n        }).eq('id', userId);\n      } catch (error) {\n        console.error('Update badges error:', error);\n      }\n    });\n    return _updateBadges.apply(this, arguments);\n  }\n});","lineCount":230,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"awardXP"],[12,17,16,0],[12,20,16,0,"awardXP"],[12,27,16,0],[13,2,62,0,"exports"],[13,9,62,0],[13,10,62,0,"awardBattleXP"],[13,23,62,0],[13,26,62,0,"awardBattleXP"],[13,39,62,0],[14,2,83,0,"exports"],[14,9,83,0],[14,10,83,0,"awardStreamXP"],[14,23,83,0],[14,26,83,0,"awardStreamXP"],[14,39,83,0],[15,2,111,0,"exports"],[15,9,111,0],[15,10,111,0,"getUserXPInfo"],[15,23,111,0],[15,26,111,0,"getUserXPInfo"],[15,39,111,0],[16,2,143,0,"exports"],[16,9,143,0],[16,10,143,0,"getLeaderboard"],[16,24,143,0],[16,27,143,0,"getLeaderboard"],[16,41,143,0],[17,2,162,0,"exports"],[17,9,162,0],[17,10,162,0,"getUserRank"],[17,21,162,0],[17,24,162,0,"getUserRank"],[17,35,162,0],[18,2,182,0,"exports"],[18,9,182,0],[18,10,182,0,"updateBadges"],[18,22,182,0],[18,25,182,0,"updateBadges"],[18,37,182,0],[19,2,217,1],[19,6,217,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,217,1],[19,45,217,1,"require"],[19,52,217,1],[19,53,217,1,"_dependencyMap"],[19,67,217,1],[20,2,217,1],[20,6,217,1,"_asyncToGenerator"],[20,23,217,1],[20,26,217,1,"_interopDefault"],[20,41,217,1],[20,42,217,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,217,1],[21,2,1,0],[21,6,1,0,"_libSupabase"],[21,18,1,0],[21,21,1,0,"require"],[21,28,1,0],[21,29,1,0,"_dependencyMap"],[21,43,1,0],[22,2,2,0],[22,6,2,0,"_utilsXpSystem"],[22,20,2,0],[22,23,2,0,"require"],[22,30,2,0],[22,31,2,0,"_dependencyMap"],[22,45,2,0],[23,2,13,0],[24,0,14,0],[25,0,15,0],[26,2,13,0],[26,11,16,22,"awardXP"],[26,18,16,29,"awardXP"],[26,19,16,29,"_x"],[26,21,16,29],[26,23,16,29,"_x2"],[26,26,16,29],[26,28,16,29,"_x3"],[26,31,16,29],[26,33,16,29,"_x4"],[26,36,16,29],[27,4,16,29],[27,11,16,29,"_awardXP"],[27,19,16,29],[27,20,16,29,"apply"],[27,25,16,29],[27,32,16,29,"arguments"],[27,41,16,29],[28,2,16,29],[29,2,59,0],[30,0,60,0],[31,0,61,0],[32,2,59,0],[32,11,59,0,"_awardXP"],[32,20,59,0],[33,4,59,0,"_awardXP"],[33,12,59,0],[33,19,59,0,"_asyncToGenerator"],[33,36,59,0],[33,37,59,0,"default"],[33,44,59,0],[33,46,16,7],[33,57,17,2,"userId"],[33,63,17,16],[33,65,18,2,"amount"],[33,71,18,16],[33,73,19,2,"reason"],[33,79,19,16],[33,81,20,2,"referenceId"],[33,92,20,22],[33,94,21,21],[34,6,22,2],[34,10,22,6],[35,8,23,4],[36,8,24,4],[36,12,24,4,"_yield$supabase$rpc"],[36,31,24,4],[36,40,24,34,"supabase"],[36,52,24,42],[36,53,24,42,"supabase"],[36,61,24,42],[36,62,24,43,"rpc"],[36,65,24,46],[36,66,24,47],[36,76,24,57],[36,78,24,59],[37,12,25,6,"p_user_id"],[37,21,25,15],[37,23,25,17,"userId"],[37,29,25,23],[38,12,26,6,"p_amount"],[38,20,26,14],[38,22,26,16,"amount"],[38,28,26,22],[39,12,27,6,"p_reason"],[39,20,27,14],[39,22,27,16,"reason"],[39,28,27,22],[40,12,28,6,"p_reference_id"],[40,26,28,20],[40,28,28,22,"referenceId"],[41,10,29,4],[41,11,29,5],[41,12,29,6],[42,10,24,12,"data"],[42,14,24,16],[42,17,24,16,"_yield$supabase$rpc"],[42,36,24,16],[42,37,24,12,"data"],[42,41,24,16],[43,10,24,18,"error"],[43,15,24,23],[43,18,24,23,"_yield$supabase$rpc"],[43,37,24,23],[43,38,24,18,"error"],[43,43,24,23],[44,8,31,4],[44,12,31,8,"error"],[44,17,31,13],[44,19,31,15],[44,25,31,21,"error"],[44,30,31,26],[46,8,33,4],[47,8,34,4],[47,12,34,4,"_yield$supabase$from$"],[47,33,34,4],[47,42,34,36,"supabase"],[47,54,34,44],[47,55,34,44,"supabase"],[47,63,34,44],[47,64,35,7,"from"],[47,68,35,11],[47,69,35,12],[47,79,35,22],[47,80,35,23],[47,81,36,7,"select"],[47,87,36,13],[47,88,36,14],[47,95,36,21],[47,96,36,22],[47,97,37,7,"eq"],[47,99,37,9],[47,100,37,10],[47,104,37,14],[47,106,37,16,"userId"],[47,112,37,22],[47,113,37,23],[47,114,38,7,"single"],[47,120,38,13],[47,121,38,14],[47,122,38,15],[48,10,34,18,"profile"],[48,17,34,25],[48,20,34,25,"_yield$supabase$from$"],[48,41,34,25],[48,42,34,12,"data"],[48,46,34,16],[49,8,40,4],[49,12,40,10,"previousLevel"],[49,25,40,23],[49,28,40,26,"profile"],[49,35,40,33],[49,37,40,35,"level"],[49,42,40,40],[49,46,40,44],[49,47,40,45],[50,8,41,4],[50,12,41,10,"leveledUp"],[50,21,41,19],[50,24,41,22,"data"],[50,28,41,26],[50,29,41,27,"level"],[50,34,41,32],[50,37,41,35,"previousLevel"],[50,50,41,48],[51,8,43,4],[51,15,43,11],[52,10,44,6,"success"],[52,17,44,13],[52,19,44,15],[52,23,44,19],[53,10,45,6,"newXP"],[53,15,45,11],[53,17,45,13,"data"],[53,21,45,17],[53,22,45,18,"total_xp"],[53,30,45,26],[54,10,46,6,"newLevel"],[54,18,46,14],[54,20,46,16,"data"],[54,24,46,20],[54,25,46,21,"level"],[54,30,46,26],[55,10,47,6,"leveledUp"],[55,19,47,15],[56,10,48,6,"rankTitle"],[56,19,48,15],[56,21,48,17,"data"],[56,25,48,21],[56,26,48,22,"rank_title"],[57,8,49,4],[57,9,49,5],[58,6,50,2],[58,7,50,3],[58,8,50,4],[58,15,50,11,"error"],[58,20,50,21],[58,22,50,23],[59,8,51,4,"console"],[59,15,51,11],[59,16,51,12,"error"],[59,21,51,17],[59,22,51,18],[59,39,51,35],[59,41,51,37,"error"],[59,46,51,42],[59,47,51,43],[60,8,52,4],[60,15,52,11],[61,10,53,6,"success"],[61,17,53,13],[61,19,53,15],[61,24,53,20],[62,10,54,6,"error"],[62,15,54,11],[62,17,54,13,"error"],[62,22,54,18],[62,23,54,19,"message"],[62,30,54,26],[62,34,54,30],[63,8,55,4],[63,9,55,5],[64,6,56,2],[65,4,57,0],[65,5,57,1],[66,4,57,1],[66,11,57,1,"_awardXP"],[66,19,57,1],[66,20,57,1,"apply"],[66,25,57,1],[66,32,57,1,"arguments"],[66,41,57,1],[67,2,57,1],[68,2,57,1],[68,11,62,22,"awardBattleXP"],[68,24,62,35,"awardBattleXP"],[68,25,62,35,"_x5"],[68,28,62,35],[68,30,62,35,"_x6"],[68,33,62,35],[68,35,62,35,"_x7"],[68,38,62,35],[68,40,62,35,"_x8"],[68,43,62,35],[69,4,62,35],[69,11,62,35,"_awardBattleXP"],[69,25,62,35],[69,26,62,35,"apply"],[69,31,62,35],[69,38,62,35,"arguments"],[69,47,62,35],[70,2,62,35],[71,2,80,0],[72,0,81,0],[73,0,82,0],[74,2,80,0],[74,11,80,0,"_awardBattleXP"],[74,26,80,0],[75,4,80,0,"_awardBattleXP"],[75,18,80,0],[75,25,80,0,"_asyncToGenerator"],[75,42,80,0],[75,43,80,0,"default"],[75,50,80,0],[75,52,62,7],[75,63,63,2,"userId"],[75,69,63,16],[75,71,64,2,"won"],[75,74,64,14],[75,76,65,2,"tie"],[75,79,65,14],[75,81,66,2,"matchId"],[75,88,66,17],[75,90,67,21],[76,6,68,2],[76,10,68,8,"amount"],[76,16,68,14],[76,19,68,17,"tie"],[76,22,68,20],[76,25,68,23,"XP_REWARDS"],[76,39,68,33],[76,40,68,33,"XP_REWARDS"],[76,50,68,33],[76,51,68,34,"BATTLE_TIE"],[76,61,68,44],[76,64,68,47,"won"],[76,67,68,50],[76,70,68,53,"XP_REWARDS"],[76,84,68,63],[76,85,68,63,"XP_REWARDS"],[76,95,68,63],[76,96,68,64,"BATTLE_WIN"],[76,106,68,74],[76,109,68,77,"XP_REWARDS"],[76,123,68,87],[76,124,68,87,"XP_REWARDS"],[76,134,68,87],[76,135,68,88,"BATTLE_LOSS"],[76,146,68,99],[77,6,69,2],[77,10,69,8,"reason"],[77,16,69,14],[77,19,69,17,"tie"],[77,22,69,20],[77,25,69,23],[77,37,69,35],[77,40,69,38,"won"],[77,43,69,41],[77,46,69,44],[77,62,69,60],[77,65,69,63],[77,87,69,85],[79,6,71,2],[80,6,72,2],[80,12,72,8,"supabase"],[80,24,72,16],[80,25,72,16,"supabase"],[80,33,72,16],[80,34,72,17,"rpc"],[80,37,72,20],[80,38,72,21],[80,57,72,40],[80,59,72,42],[81,8,73,4,"p_user_id"],[81,17,73,13],[81,19,73,15,"userId"],[81,25,73,21],[82,8,74,4,"p_won"],[82,13,74,9],[82,15,74,11,"won"],[82,18,74,14],[82,22,74,18],[82,23,74,19,"tie"],[83,6,75,2],[83,7,75,3],[83,8,75,4],[84,6,77,2],[84,13,77,9,"awardXP"],[84,20,77,16],[84,21,77,17,"userId"],[84,27,77,23],[84,29,77,25,"amount"],[84,35,77,31],[84,37,77,33,"reason"],[84,43,77,39],[84,45,77,41,"matchId"],[84,52,77,48],[84,53,77,49],[85,4,78,0],[85,5,78,1],[86,4,78,1],[86,11,78,1,"_awardBattleXP"],[86,25,78,1],[86,26,78,1,"apply"],[86,31,78,1],[86,38,78,1,"arguments"],[86,47,78,1],[87,2,78,1],[88,2,78,1],[88,11,83,22,"awardStreamXP"],[88,24,83,35,"awardStreamXP"],[88,25,83,35,"_x9"],[88,28,83,35],[88,30,83,35,"_x0"],[88,33,83,35],[88,35,83,35,"_x1"],[88,38,83,35],[89,4,83,35],[89,11,83,35,"_awardStreamXP"],[89,25,83,35],[89,26,83,35,"apply"],[89,31,83,35],[89,38,83,35,"arguments"],[89,47,83,35],[90,2,83,35],[91,2,108,0],[92,0,109,0],[93,0,110,0],[94,2,108,0],[94,11,108,0,"_awardStreamXP"],[94,26,108,0],[95,4,108,0,"_awardStreamXP"],[95,18,108,0],[95,25,108,0,"_asyncToGenerator"],[95,42,108,0],[95,43,108,0,"default"],[95,50,108,0],[95,52,83,7],[95,63,84,2,"userId"],[95,69,84,16],[95,71,85,2,"durationMinutes"],[95,86,85,25],[95,88,86,2,"streamId"],[95,96,86,18],[95,98,87,21],[96,6,88,2],[96,10,88,6,"amount"],[96,16,88,12],[96,19,88,15,"XP_REWARDS"],[96,33,88,25],[96,34,88,25,"XP_REWARDS"],[96,44,88,25],[96,45,88,26,"STREAM_COMPLETE"],[96,60,88,41],[97,6,89,2],[97,10,89,6,"reason"],[97,16,89,12],[97,19,89,15],[97,37,89,33],[98,6,91,2],[98,10,91,6,"durationMinutes"],[98,25,91,21],[98,29,91,25],[98,31,91,27],[98,33,91,29],[99,8,92,4,"amount"],[99,14,92,10],[99,17,92,13,"XP_REWARDS"],[99,31,92,23],[99,32,92,23,"XP_REWARDS"],[99,42,92,23],[99,43,92,24,"STREAM_60_MIN"],[99,56,92,37],[100,8,93,4,"reason"],[100,14,93,10],[100,17,93,13],[100,37,93,33],[101,6,94,2],[101,7,94,3],[101,13,94,9],[101,17,94,13,"durationMinutes"],[101,32,94,28],[101,36,94,32],[101,38,94,34],[101,40,94,36],[102,8,95,4,"amount"],[102,14,95,10],[102,17,95,13,"XP_REWARDS"],[102,31,95,23],[102,32,95,23,"XP_REWARDS"],[102,42,95,23],[102,43,95,24,"STREAM_30_MIN"],[102,56,95,37],[103,8,96,4,"reason"],[103,14,96,10],[103,17,96,13],[103,37,96,33],[104,6,97,2],[106,6,99,2],[107,6,100,2],[107,12,100,8,"supabase"],[107,24,100,16],[107,25,100,16,"supabase"],[107,33,100,16],[107,34,101,5,"from"],[107,38,101,9],[107,39,101,10],[107,49,101,20],[107,50,101,21],[107,51,102,5,"update"],[107,57,102,11],[107,58,102,12],[108,8,102,14,"total_streams"],[108,21,102,27],[108,23,102,29,"supabase"],[108,35,102,37],[108,36,102,37,"supabase"],[108,44,102,37],[108,45,102,38,"sql"],[108,48,102,41],[109,6,102,61],[109,7,102,62],[109,8,102,63],[109,9,103,5,"eq"],[109,11,103,7],[109,12,103,8],[109,16,103,12],[109,18,103,14,"userId"],[109,24,103,20],[109,25,103,21],[110,6,105,2],[110,13,105,9,"awardXP"],[110,20,105,16],[110,21,105,17,"userId"],[110,27,105,23],[110,29,105,25,"amount"],[110,35,105,31],[110,37,105,33,"reason"],[110,43,105,39],[110,45,105,41,"streamId"],[110,53,105,49],[110,54,105,50],[111,4,106,0],[111,5,106,1],[112,4,106,1],[112,11,106,1,"_awardStreamXP"],[112,25,106,1],[112,26,106,1,"apply"],[112,31,106,1],[112,38,106,1,"arguments"],[112,47,106,1],[113,2,106,1],[114,2,106,1],[114,11,111,22,"getUserXPInfo"],[114,24,111,35,"getUserXPInfo"],[114,25,111,35,"_x10"],[114,29,111,35],[115,4,111,35],[115,11,111,35,"_getUserXPInfo"],[115,25,111,35],[115,26,111,35,"apply"],[115,31,111,35],[115,38,111,35,"arguments"],[115,47,111,35],[116,2,111,35],[117,2,140,0],[118,0,141,0],[119,0,142,0],[120,2,140,0],[120,11,140,0,"_getUserXPInfo"],[120,26,140,0],[121,4,140,0,"_getUserXPInfo"],[121,18,140,0],[121,25,140,0,"_asyncToGenerator"],[121,42,140,0],[121,43,140,0,"default"],[121,50,140,0],[121,52,111,7],[121,63,111,36,"userId"],[121,69,111,50],[121,71,111,52],[122,6,112,2],[122,10,112,6],[123,8,113,4],[123,12,113,4,"_yield$supabase$from$2"],[123,34,113,4],[123,43,113,34,"supabase"],[123,55,113,42],[123,56,113,42,"supabase"],[123,64,113,42],[123,65,114,7,"from"],[123,69,114,11],[123,70,114,12],[123,80,114,22],[123,81,114,23],[123,82,115,7,"select"],[123,88,115,13],[123,89,115,14],[123,166,115,91],[123,167,115,92],[123,168,116,7,"eq"],[123,170,116,9],[123,171,116,10],[123,175,116,14],[123,177,116,16,"userId"],[123,183,116,22],[123,184,116,23],[123,185,117,7,"single"],[123,191,117,13],[123,192,117,14],[123,193,117,15],[124,10,113,12,"data"],[124,14,113,16],[124,17,113,16,"_yield$supabase$from$2"],[124,39,113,16],[124,40,113,12,"data"],[124,44,113,16],[125,10,113,18,"error"],[125,15,113,23],[125,18,113,23,"_yield$supabase$from$2"],[125,40,113,23],[125,41,113,18,"error"],[125,46,113,23],[126,8,119,4],[126,12,119,8,"error"],[126,17,119,13],[126,19,119,15],[126,25,119,21,"error"],[126,30,119,26],[127,8,121,4],[127,12,121,4,"_calculateLevel"],[127,27,121,4],[127,30,121,61],[127,34,121,61,"calculateLevel"],[127,48,121,75],[127,49,121,75,"calculateLevel"],[127,63,121,75],[127,65,121,76,"data"],[127,69,121,80],[127,70,121,81,"total_xp"],[127,78,121,89],[127,79,121,90],[128,10,121,12,"level"],[128,15,121,17],[128,18,121,17,"_calculateLevel"],[128,33,121,17],[128,34,121,12,"level"],[128,39,121,17],[129,10,121,19,"currentLevelXP"],[129,24,121,33],[129,27,121,33,"_calculateLevel"],[129,42,121,33],[129,43,121,19,"currentLevelXP"],[129,57,121,33],[130,10,121,35,"nextLevelXP"],[130,21,121,46],[130,24,121,46,"_calculateLevel"],[130,39,121,46],[130,40,121,35,"nextLevelXP"],[130,51,121,46],[131,10,121,48,"progress"],[131,18,121,56],[131,21,121,56,"_calculateLevel"],[131,36,121,56],[131,37,121,48,"progress"],[131,45,121,56],[132,8,123,4],[132,15,123,11],[133,10,124,6,"totalXP"],[133,17,124,13],[133,19,124,15,"data"],[133,23,124,19],[133,24,124,20,"total_xp"],[133,32,124,28],[134,10,125,6,"level"],[134,15,125,11],[134,17,125,13,"data"],[134,21,125,17],[134,22,125,18,"level"],[134,27,125,23],[135,10,126,6,"rankTitle"],[135,19,126,15],[135,21,126,17,"data"],[135,25,126,21],[135,26,126,22,"rank_title"],[135,36,126,32],[136,10,127,6,"badges"],[136,16,127,12],[136,18,127,14,"data"],[136,22,127,18],[136,23,127,19,"badges"],[136,29,127,25],[136,33,127,29],[136,35,127,31],[137,10,128,6,"currentWinStreak"],[137,26,128,22],[137,28,128,24,"data"],[137,32,128,28],[137,33,128,29,"current_win_streak"],[137,51,128,47],[138,10,129,6,"longestWinStreak"],[138,26,129,22],[138,28,129,24,"data"],[138,32,129,28],[138,33,129,29,"longest_win_streak"],[138,51,129,47],[139,10,130,6,"currentLevelXP"],[139,24,130,20],[140,10,131,6,"nextLevelXP"],[140,21,131,17],[141,10,132,6,"progress"],[142,8,133,4],[142,9,133,5],[143,6,134,2],[143,7,134,3],[143,8,134,4],[143,15,134,11,"error"],[143,20,134,16],[143,22,134,18],[144,8,135,4,"console"],[144,15,135,11],[144,16,135,12,"error"],[144,21,135,17],[144,22,135,18],[144,42,135,38],[144,44,135,40,"error"],[144,49,135,45],[144,50,135,46],[145,8,136,4],[145,15,136,11],[145,19,136,15],[146,6,137,2],[147,4,138,0],[147,5,138,1],[148,4,138,1],[148,11,138,1,"_getUserXPInfo"],[148,25,138,1],[148,26,138,1,"apply"],[148,31,138,1],[148,38,138,1,"arguments"],[148,47,138,1],[149,2,138,1],[150,2,138,1],[150,11,143,22,"getLeaderboard"],[150,25,143,36,"getLeaderboard"],[150,26,143,36],[151,4,143,36],[151,11,143,36,"_getLeaderboard"],[151,26,143,36],[151,27,143,36,"apply"],[151,32,143,36],[151,39,143,36,"arguments"],[151,48,143,36],[152,2,143,36],[153,2,159,0],[154,0,160,0],[155,0,161,0],[156,2,159,0],[156,11,159,0,"_getLeaderboard"],[156,27,159,0],[157,4,159,0,"_getLeaderboard"],[157,19,159,0],[157,26,159,0,"_asyncToGenerator"],[157,43,159,0],[157,44,159,0,"default"],[157,51,159,0],[157,53,143,7],[157,66,143,58],[158,6,143,58],[158,10,143,37,"limit"],[158,15,143,50],[158,18,143,50,"arguments"],[158,27,143,50],[158,28,143,50,"length"],[158,34,143,50],[158,42,143,50,"arguments"],[158,51,143,50],[158,59,143,50,"undefined"],[158,68,143,50],[158,71,143,50,"arguments"],[158,80,143,50],[158,86,143,53],[158,89,143,56],[159,6,144,2],[159,10,144,6],[160,8,145,4],[160,12,145,4,"_yield$supabase$from$3"],[160,34,145,4],[160,43,145,34,"supabase"],[160,55,145,42],[160,56,145,42,"supabase"],[160,64,145,42],[160,65,146,7,"from"],[160,69,146,11],[160,70,146,12],[160,83,146,25],[160,84,146,26],[160,85,147,7,"select"],[160,91,147,13],[160,92,147,14],[160,95,147,17],[160,96,147,18],[160,97,148,7,"limit"],[160,102,148,12],[160,103,148,13,"limit"],[160,108,148,18],[160,109,148,19],[161,10,145,12,"data"],[161,14,145,16],[161,17,145,16,"_yield$supabase$from$3"],[161,39,145,16],[161,40,145,12,"data"],[161,44,145,16],[162,10,145,18,"error"],[162,15,145,23],[162,18,145,23,"_yield$supabase$from$3"],[162,40,145,23],[162,41,145,18,"error"],[162,46,145,23],[163,8,150,4],[163,12,150,8,"error"],[163,17,150,13],[163,19,150,15],[163,25,150,21,"error"],[163,30,150,26],[164,8,152,4],[164,15,152,11,"data"],[164,19,152,15],[164,23,152,19],[164,25,152,21],[165,6,153,2],[165,7,153,3],[165,8,153,4],[165,15,153,11,"error"],[165,20,153,16],[165,22,153,18],[166,8,154,4,"console"],[166,15,154,11],[166,16,154,12,"error"],[166,21,154,17],[166,22,154,18],[166,46,154,42],[166,48,154,44,"error"],[166,53,154,49],[166,54,154,50],[167,8,155,4],[167,15,155,11],[167,17,155,13],[168,6,156,2],[169,4,157,0],[169,5,157,1],[170,4,157,1],[170,11,157,1,"_getLeaderboard"],[170,26,157,1],[170,27,157,1,"apply"],[170,32,157,1],[170,39,157,1,"arguments"],[170,48,157,1],[171,2,157,1],[172,2,157,1],[172,11,162,22,"getUserRank"],[172,22,162,33,"getUserRank"],[172,23,162,33,"_x11"],[172,27,162,33],[173,4,162,33],[173,11,162,33,"_getUserRank"],[173,23,162,33],[173,24,162,33,"apply"],[173,29,162,33],[173,36,162,33,"arguments"],[173,45,162,33],[174,2,162,33],[175,2,179,0],[176,0,180,0],[177,0,181,0],[178,2,179,0],[178,11,179,0,"_getUserRank"],[178,24,179,0],[179,4,179,0,"_getUserRank"],[179,16,179,0],[179,23,179,0,"_asyncToGenerator"],[179,40,179,0],[179,41,179,0,"default"],[179,48,179,0],[179,50,162,7],[179,61,162,34,"userId"],[179,67,162,48],[179,69,162,74],[180,6,163,2],[180,10,163,6],[181,8,164,4],[181,12,164,4,"_yield$supabase$from$4"],[181,34,164,4],[181,43,164,34,"supabase"],[181,55,164,42],[181,56,164,42,"supabase"],[181,64,164,42],[181,65,165,7,"from"],[181,69,165,11],[181,70,165,12],[181,83,165,25],[181,84,165,26],[181,85,166,7,"select"],[181,91,166,13],[181,92,166,14],[181,98,166,20],[181,99,166,21],[181,100,167,7,"eq"],[181,102,167,9],[181,103,167,10],[181,107,167,14],[181,109,167,16,"userId"],[181,115,167,22],[181,116,167,23],[181,117,168,7,"single"],[181,123,168,13],[181,124,168,14],[181,125,168,15],[182,10,164,12,"data"],[182,14,164,16],[182,17,164,16,"_yield$supabase$from$4"],[182,39,164,16],[182,40,164,12,"data"],[182,44,164,16],[183,10,164,18,"error"],[183,15,164,23],[183,18,164,23,"_yield$supabase$from$4"],[183,40,164,23],[183,41,164,18,"error"],[183,46,164,23],[184,8,170,4],[184,12,170,8,"error"],[184,17,170,13],[184,19,170,15],[184,25,170,21,"error"],[184,30,170,26],[185,8,172,4],[185,15,172,11,"data"],[185,19,172,15],[185,21,172,17,"rank"],[185,25,172,21],[185,29,172,25],[185,33,172,29],[186,6,173,2],[186,7,173,3],[186,8,173,4],[186,15,173,11,"error"],[186,20,173,16],[186,22,173,18],[187,8,174,4,"console"],[187,15,174,11],[187,16,174,12,"error"],[187,21,174,17],[187,22,174,18],[187,44,174,40],[187,46,174,42,"error"],[187,51,174,47],[187,52,174,48],[188,8,175,4],[188,15,175,11],[188,19,175,15],[189,6,176,2],[190,4,177,0],[190,5,177,1],[191,4,177,1],[191,11,177,1,"_getUserRank"],[191,23,177,1],[191,24,177,1,"apply"],[191,29,177,1],[191,36,177,1,"arguments"],[191,45,177,1],[192,2,177,1],[193,2,177,1],[193,11,182,22,"updateBadges"],[193,23,182,34,"updateBadges"],[193,24,182,34,"_x12"],[193,28,182,34],[194,4,182,34],[194,11,182,34,"_updateBadges"],[194,24,182,34],[194,25,182,34,"apply"],[194,30,182,34],[194,37,182,34,"arguments"],[194,46,182,34],[195,2,182,34],[196,2,182,34],[196,11,182,34,"_updateBadges"],[196,25,182,34],[197,4,182,34,"_updateBadges"],[197,17,182,34],[197,24,182,34,"_asyncToGenerator"],[197,41,182,34],[197,42,182,34,"default"],[197,49,182,34],[197,51,182,7],[197,62,182,35,"userId"],[197,68,182,49],[197,70,182,51],[198,6,183,2],[198,10,183,6],[199,8,184,4],[200,8,185,4],[200,12,185,4,"_yield$supabase$from$5"],[200,34,185,4],[200,43,185,36,"supabase"],[200,55,185,44],[200,56,185,44,"supabase"],[200,64,185,44],[200,65,186,7,"from"],[200,69,186,11],[200,70,186,12],[200,80,186,22],[200,81,186,23],[200,82,187,7,"select"],[200,88,187,13],[200,89,187,14],[201,0,188,0],[202,0,189,0],[203,0,190,0],[204,0,191,0],[205,0,192,0],[206,0,193,0],[207,0,194,0],[207,7,194,7],[207,8,194,8],[207,9,195,7,"eq"],[207,11,195,9],[207,12,195,10],[207,16,195,14],[207,18,195,16,"userId"],[207,24,195,22],[207,25,195,23],[207,26,196,7,"single"],[207,32,196,13],[207,33,196,14],[207,34,196,15],[208,10,185,18,"profile"],[208,17,185,25],[208,20,185,25,"_yield$supabase$from$5"],[208,42,185,25],[208,43,185,12,"data"],[208,47,185,16],[209,8,198,4],[209,12,198,8],[209,13,198,9,"profile"],[209,20,198,16],[209,22,198,18],[211,8,200,4],[212,8,201,4],[212,12,201,10,"rank"],[212,16,201,14],[212,25,201,23,"getUserRank"],[212,36,201,34],[212,37,201,35,"userId"],[212,43,201,41],[212,44,201,42],[214,8,203,4],[215,8,204,4],[215,12,204,10,"earnedBadges"],[215,24,204,22],[215,27,204,25],[215,31,204,25,"checkBadges"],[215,45,204,36],[215,46,204,36,"checkBadges"],[215,57,204,36],[215,59,204,37],[216,10,205,6],[216,13,205,9,"profile"],[216,20,205,16],[217,10,206,6,"leaderboard_rank"],[217,26,206,22],[217,28,206,24,"rank"],[217,32,206,28],[217,36,206,32,"undefined"],[218,8,207,4],[218,9,207,5],[218,10,207,6],[220,8,209,4],[221,8,210,4],[221,14,210,10,"supabase"],[221,26,210,18],[221,27,210,18,"supabase"],[221,35,210,18],[221,36,211,7,"from"],[221,40,211,11],[221,41,211,12],[221,51,211,22],[221,52,211,23],[221,53,212,7,"update"],[221,59,212,13],[221,60,212,14],[222,10,212,16,"badges"],[222,16,212,22],[222,18,212,24,"earnedBadges"],[223,8,212,37],[223,9,212,38],[223,10,212,39],[223,11,213,7,"eq"],[223,13,213,9],[223,14,213,10],[223,18,213,14],[223,20,213,16,"userId"],[223,26,213,22],[223,27,213,23],[224,6,214,2],[224,7,214,3],[224,8,214,4],[224,15,214,11,"error"],[224,20,214,16],[224,22,214,18],[225,8,215,4,"console"],[225,15,215,11],[225,16,215,12,"error"],[225,21,215,17],[225,22,215,18],[225,44,215,40],[225,46,215,42,"error"],[225,51,215,47],[225,52,215,48],[226,6,216,2],[227,4,217,0],[227,5,217,1],[228,4,217,1],[228,11,217,1,"_updateBadges"],[228,24,217,1],[228,25,217,1,"apply"],[228,30,217,1],[228,37,217,1,"arguments"],[228,46,217,1],[229,2,217,1],[230,0,217,1],[230,3]],"functionMap":{"names":["<global>","awardXP","awardBattleXP","awardStreamXP","getUserXPInfo","getLeaderboard","getUserRank","updateBadges"],"mappings":"AAA;OCe;CDyC;OEK;CFgB;OGK;CHuB;OIK;CJ2B;OKK;CLc;OMK;CNe;OOK;CPmC"},"hasCjsExports":false},"type":"js/module"}]}