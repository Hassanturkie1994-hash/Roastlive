{"dependencies":[{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"../utils/xpSystem","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":90,"index":134}}],"key":"BefdMPKE2u3lqBx9U/8JQOQ2gtM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.awardXP = awardXP;\n  exports.awardBattleXP = awardBattleXP;\n  exports.awardStreamXP = awardStreamXP;\n  exports.getUserXPInfo = getUserXPInfo;\n  exports.getLeaderboard = getLeaderboard;\n  exports.getUserRank = getUserRank;\n  exports.updateBadges = updateBadges;\n  var _libSupabase = require(_dependencyMap[0], \"../lib/supabase\");\n  var _utilsXpSystem = require(_dependencyMap[1], \"../utils/xpSystem\");\n  /**\n   * Award XP to a user\n   */\n  async function awardXP(userId, amount, reason, referenceId) {\n    try {\n      // Call the database function\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.rpc('award_xp', {\n        p_user_id: userId,\n        p_amount: amount,\n        p_reason: reason,\n        p_reference_id: referenceId\n      });\n      if (error) throw error;\n\n      // Get previous level\n      const {\n        data: profile\n      } = await _libSupabase.supabase.from('profiles').select('level').eq('id', userId).single();\n      const previousLevel = profile?.level || 1;\n      const leveledUp = data.level > previousLevel;\n      return {\n        success: true,\n        newXP: data.total_xp,\n        newLevel: data.level,\n        leveledUp,\n        rankTitle: data.rank_title\n      };\n    } catch (error) {\n      console.error('Award XP error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to award XP'\n      };\n    }\n  }\n\n  /**\n   * Award XP for battle result\n   */\n  async function awardBattleXP(userId, won, tie, matchId) {\n    const amount = tie ? _utilsXpSystem.XP_REWARDS.BATTLE_TIE : won ? _utilsXpSystem.XP_REWARDS.BATTLE_WIN : _utilsXpSystem.XP_REWARDS.BATTLE_LOSS;\n    const reason = tie ? 'Battle Tie' : won ? 'Battle Victory' : 'Battle Participation';\n\n    // Update win streak\n    await _libSupabase.supabase.rpc('update_win_streak', {\n      p_user_id: userId,\n      p_won: won && !tie\n    });\n    return awardXP(userId, amount, reason, matchId);\n  }\n\n  /**\n   * Award XP for stream completion\n   */\n  async function awardStreamXP(userId, durationMinutes, streamId) {\n    let amount = _utilsXpSystem.XP_REWARDS.STREAM_COMPLETE;\n    let reason = 'Stream Completed';\n    if (durationMinutes >= 60) {\n      amount = _utilsXpSystem.XP_REWARDS.STREAM_60_MIN;\n      reason = 'Stream 60+ Minutes';\n    } else if (durationMinutes >= 30) {\n      amount = _utilsXpSystem.XP_REWARDS.STREAM_30_MIN;\n      reason = 'Stream 30+ Minutes';\n    }\n\n    // Increment total streams\n    await _libSupabase.supabase.from('profiles').update({\n      total_streams: _libSupabase.supabase.sql`total_streams + 1`\n    }).eq('id', userId);\n    return awardXP(userId, amount, reason, streamId);\n  }\n\n  /**\n   * Get user's XP and level info\n   */\n  async function getUserXPInfo(userId) {\n    try {\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.from('profiles').select('total_xp, level, rank_title, badges, current_win_streak, longest_win_streak').eq('id', userId).single();\n      if (error) throw error;\n      const {\n        level,\n        currentLevelXP,\n        nextLevelXP,\n        progress\n      } = (0, _utilsXpSystem.calculateLevel)(data.total_xp);\n      return {\n        totalXP: data.total_xp,\n        level: data.level,\n        rankTitle: data.rank_title,\n        badges: data.badges || [],\n        currentWinStreak: data.current_win_streak,\n        longestWinStreak: data.longest_win_streak,\n        currentLevelXP,\n        nextLevelXP,\n        progress\n      };\n    } catch (error) {\n      console.error('Get XP info error:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Get leaderboard (top 100)\n   */\n  async function getLeaderboard(limit = 100) {\n    try {\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.from('leaderboard').select('*').limit(limit);\n      if (error) throw error;\n      return data || [];\n    } catch (error) {\n      console.error('Get leaderboard error:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get user's leaderboard rank\n   */\n  async function getUserRank(userId) {\n    try {\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.from('leaderboard').select('rank').eq('id', userId).single();\n      if (error) throw error;\n      return data?.rank || null;\n    } catch (error) {\n      console.error('Get user rank error:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Check and award badges\n   */\n  async function updateBadges(userId) {\n    try {\n      // Get user stats\n      const {\n        data: profile\n      } = await _libSupabase.supabase.from('profiles').select(`\n        total_streams,\n        total_battles,\n        current_win_streak,\n        level,\n        gifts_sent,\n        follower_count\n      `).eq('id', userId).single();\n      if (!profile) return;\n\n      // Get user's rank\n      const rank = await getUserRank(userId);\n\n      // Check which badges they should have\n      const earnedBadges = (0, _utilsXpSystem.checkBadges)({\n        ...profile,\n        leaderboard_rank: rank || undefined\n      });\n\n      // Update badges\n      await _libSupabase.supabase.from('profiles').update({\n        badges: earnedBadges\n      }).eq('id', userId);\n    } catch (error) {\n      console.error('Update badges error:', error);\n    }\n  }\n});","lineCount":193,"map":[[7,2,16,0,"exports"],[7,9,16,0],[7,10,16,0,"awardXP"],[7,17,16,0],[7,20,16,0,"awardXP"],[7,27,16,0],[8,2,62,0,"exports"],[8,9,62,0],[8,10,62,0,"awardBattleXP"],[8,23,62,0],[8,26,62,0,"awardBattleXP"],[8,39,62,0],[9,2,83,0,"exports"],[9,9,83,0],[9,10,83,0,"awardStreamXP"],[9,23,83,0],[9,26,83,0,"awardStreamXP"],[9,39,83,0],[10,2,111,0,"exports"],[10,9,111,0],[10,10,111,0,"getUserXPInfo"],[10,23,111,0],[10,26,111,0,"getUserXPInfo"],[10,39,111,0],[11,2,143,0,"exports"],[11,9,143,0],[11,10,143,0,"getLeaderboard"],[11,24,143,0],[11,27,143,0,"getLeaderboard"],[11,41,143,0],[12,2,162,0,"exports"],[12,9,162,0],[12,10,162,0,"getUserRank"],[12,21,162,0],[12,24,162,0,"getUserRank"],[12,35,162,0],[13,2,182,0,"exports"],[13,9,182,0],[13,10,182,0,"updateBadges"],[13,22,182,0],[13,25,182,0,"updateBadges"],[13,37,182,0],[14,2,1,0],[14,6,1,0,"_libSupabase"],[14,18,1,0],[14,21,1,0,"require"],[14,28,1,0],[14,29,1,0,"_dependencyMap"],[14,43,1,0],[15,2,2,0],[15,6,2,0,"_utilsXpSystem"],[15,20,2,0],[15,23,2,0,"require"],[15,30,2,0],[15,31,2,0,"_dependencyMap"],[15,45,2,0],[16,2,13,0],[17,0,14,0],[18,0,15,0],[19,2,16,7],[19,17,16,22,"awardXP"],[19,24,16,29,"awardXP"],[19,25,17,2,"userId"],[19,31,17,16],[19,33,18,2,"amount"],[19,39,18,16],[19,41,19,2,"reason"],[19,47,19,16],[19,49,20,2,"referenceId"],[19,60,20,22],[19,62,21,21],[20,4,22,2],[20,8,22,6],[21,6,23,4],[22,6,24,4],[22,12,24,10],[23,8,24,12,"data"],[23,12,24,16],[24,8,24,18,"error"],[25,6,24,24],[25,7,24,25],[25,10,24,28],[25,16,24,34,"supabase"],[25,28,24,42],[25,29,24,42,"supabase"],[25,37,24,42],[25,38,24,43,"rpc"],[25,41,24,46],[25,42,24,47],[25,52,24,57],[25,54,24,59],[26,8,25,6,"p_user_id"],[26,17,25,15],[26,19,25,17,"userId"],[26,25,25,23],[27,8,26,6,"p_amount"],[27,16,26,14],[27,18,26,16,"amount"],[27,24,26,22],[28,8,27,6,"p_reason"],[28,16,27,14],[28,18,27,16,"reason"],[28,24,27,22],[29,8,28,6,"p_reference_id"],[29,22,28,20],[29,24,28,22,"referenceId"],[30,6,29,4],[30,7,29,5],[30,8,29,6],[31,6,31,4],[31,10,31,8,"error"],[31,15,31,13],[31,17,31,15],[31,23,31,21,"error"],[31,28,31,26],[33,6,33,4],[34,6,34,4],[34,12,34,10],[35,8,34,12,"data"],[35,12,34,16],[35,14,34,18,"profile"],[36,6,34,26],[36,7,34,27],[36,10,34,30],[36,16,34,36,"supabase"],[36,28,34,44],[36,29,34,44,"supabase"],[36,37,34,44],[36,38,35,7,"from"],[36,42,35,11],[36,43,35,12],[36,53,35,22],[36,54,35,23],[36,55,36,7,"select"],[36,61,36,13],[36,62,36,14],[36,69,36,21],[36,70,36,22],[36,71,37,7,"eq"],[36,73,37,9],[36,74,37,10],[36,78,37,14],[36,80,37,16,"userId"],[36,86,37,22],[36,87,37,23],[36,88,38,7,"single"],[36,94,38,13],[36,95,38,14],[36,96,38,15],[37,6,40,4],[37,12,40,10,"previousLevel"],[37,25,40,23],[37,28,40,26,"profile"],[37,35,40,33],[37,37,40,35,"level"],[37,42,40,40],[37,46,40,44],[37,47,40,45],[38,6,41,4],[38,12,41,10,"leveledUp"],[38,21,41,19],[38,24,41,22,"data"],[38,28,41,26],[38,29,41,27,"level"],[38,34,41,32],[38,37,41,35,"previousLevel"],[38,50,41,48],[39,6,43,4],[39,13,43,11],[40,8,44,6,"success"],[40,15,44,13],[40,17,44,15],[40,21,44,19],[41,8,45,6,"newXP"],[41,13,45,11],[41,15,45,13,"data"],[41,19,45,17],[41,20,45,18,"total_xp"],[41,28,45,26],[42,8,46,6,"newLevel"],[42,16,46,14],[42,18,46,16,"data"],[42,22,46,20],[42,23,46,21,"level"],[42,28,46,26],[43,8,47,6,"leveledUp"],[43,17,47,15],[44,8,48,6,"rankTitle"],[44,17,48,15],[44,19,48,17,"data"],[44,23,48,21],[44,24,48,22,"rank_title"],[45,6,49,4],[45,7,49,5],[46,4,50,2],[46,5,50,3],[46,6,50,4],[46,13,50,11,"error"],[46,18,50,21],[46,20,50,23],[47,6,51,4,"console"],[47,13,51,11],[47,14,51,12,"error"],[47,19,51,17],[47,20,51,18],[47,37,51,35],[47,39,51,37,"error"],[47,44,51,42],[47,45,51,43],[48,6,52,4],[48,13,52,11],[49,8,53,6,"success"],[49,15,53,13],[49,17,53,15],[49,22,53,20],[50,8,54,6,"error"],[50,13,54,11],[50,15,54,13,"error"],[50,20,54,18],[50,21,54,19,"message"],[50,28,54,26],[50,32,54,30],[51,6,55,4],[51,7,55,5],[52,4,56,2],[53,2,57,0],[55,2,59,0],[56,0,60,0],[57,0,61,0],[58,2,62,7],[58,17,62,22,"awardBattleXP"],[58,30,62,35,"awardBattleXP"],[58,31,63,2,"userId"],[58,37,63,16],[58,39,64,2,"won"],[58,42,64,14],[58,44,65,2,"tie"],[58,47,65,14],[58,49,66,2,"matchId"],[58,56,66,17],[58,58,67,21],[59,4,68,2],[59,10,68,8,"amount"],[59,16,68,14],[59,19,68,17,"tie"],[59,22,68,20],[59,25,68,23,"XP_REWARDS"],[59,39,68,33],[59,40,68,33,"XP_REWARDS"],[59,50,68,33],[59,51,68,34,"BATTLE_TIE"],[59,61,68,44],[59,64,68,47,"won"],[59,67,68,50],[59,70,68,53,"XP_REWARDS"],[59,84,68,63],[59,85,68,63,"XP_REWARDS"],[59,95,68,63],[59,96,68,64,"BATTLE_WIN"],[59,106,68,74],[59,109,68,77,"XP_REWARDS"],[59,123,68,87],[59,124,68,87,"XP_REWARDS"],[59,134,68,87],[59,135,68,88,"BATTLE_LOSS"],[59,146,68,99],[60,4,69,2],[60,10,69,8,"reason"],[60,16,69,14],[60,19,69,17,"tie"],[60,22,69,20],[60,25,69,23],[60,37,69,35],[60,40,69,38,"won"],[60,43,69,41],[60,46,69,44],[60,62,69,60],[60,65,69,63],[60,87,69,85],[62,4,71,2],[63,4,72,2],[63,10,72,8,"supabase"],[63,22,72,16],[63,23,72,16,"supabase"],[63,31,72,16],[63,32,72,17,"rpc"],[63,35,72,20],[63,36,72,21],[63,55,72,40],[63,57,72,42],[64,6,73,4,"p_user_id"],[64,15,73,13],[64,17,73,15,"userId"],[64,23,73,21],[65,6,74,4,"p_won"],[65,11,74,9],[65,13,74,11,"won"],[65,16,74,14],[65,20,74,18],[65,21,74,19,"tie"],[66,4,75,2],[66,5,75,3],[66,6,75,4],[67,4,77,2],[67,11,77,9,"awardXP"],[67,18,77,16],[67,19,77,17,"userId"],[67,25,77,23],[67,27,77,25,"amount"],[67,33,77,31],[67,35,77,33,"reason"],[67,41,77,39],[67,43,77,41,"matchId"],[67,50,77,48],[67,51,77,49],[68,2,78,0],[70,2,80,0],[71,0,81,0],[72,0,82,0],[73,2,83,7],[73,17,83,22,"awardStreamXP"],[73,30,83,35,"awardStreamXP"],[73,31,84,2,"userId"],[73,37,84,16],[73,39,85,2,"durationMinutes"],[73,54,85,25],[73,56,86,2,"streamId"],[73,64,86,18],[73,66,87,21],[74,4,88,2],[74,8,88,6,"amount"],[74,14,88,12],[74,17,88,15,"XP_REWARDS"],[74,31,88,25],[74,32,88,25,"XP_REWARDS"],[74,42,88,25],[74,43,88,26,"STREAM_COMPLETE"],[74,58,88,41],[75,4,89,2],[75,8,89,6,"reason"],[75,14,89,12],[75,17,89,15],[75,35,89,33],[76,4,91,2],[76,8,91,6,"durationMinutes"],[76,23,91,21],[76,27,91,25],[76,29,91,27],[76,31,91,29],[77,6,92,4,"amount"],[77,12,92,10],[77,15,92,13,"XP_REWARDS"],[77,29,92,23],[77,30,92,23,"XP_REWARDS"],[77,40,92,23],[77,41,92,24,"STREAM_60_MIN"],[77,54,92,37],[78,6,93,4,"reason"],[78,12,93,10],[78,15,93,13],[78,35,93,33],[79,4,94,2],[79,5,94,3],[79,11,94,9],[79,15,94,13,"durationMinutes"],[79,30,94,28],[79,34,94,32],[79,36,94,34],[79,38,94,36],[80,6,95,4,"amount"],[80,12,95,10],[80,15,95,13,"XP_REWARDS"],[80,29,95,23],[80,30,95,23,"XP_REWARDS"],[80,40,95,23],[80,41,95,24,"STREAM_30_MIN"],[80,54,95,37],[81,6,96,4,"reason"],[81,12,96,10],[81,15,96,13],[81,35,96,33],[82,4,97,2],[84,4,99,2],[85,4,100,2],[85,10,100,8,"supabase"],[85,22,100,16],[85,23,100,16,"supabase"],[85,31,100,16],[85,32,101,5,"from"],[85,36,101,9],[85,37,101,10],[85,47,101,20],[85,48,101,21],[85,49,102,5,"update"],[85,55,102,11],[85,56,102,12],[86,6,102,14,"total_streams"],[86,19,102,27],[86,21,102,29,"supabase"],[86,33,102,37],[86,34,102,37,"supabase"],[86,42,102,37],[86,43,102,38,"sql"],[86,46,102,41],[87,4,102,61],[87,5,102,62],[87,6,102,63],[87,7,103,5,"eq"],[87,9,103,7],[87,10,103,8],[87,14,103,12],[87,16,103,14,"userId"],[87,22,103,20],[87,23,103,21],[88,4,105,2],[88,11,105,9,"awardXP"],[88,18,105,16],[88,19,105,17,"userId"],[88,25,105,23],[88,27,105,25,"amount"],[88,33,105,31],[88,35,105,33,"reason"],[88,41,105,39],[88,43,105,41,"streamId"],[88,51,105,49],[88,52,105,50],[89,2,106,0],[91,2,108,0],[92,0,109,0],[93,0,110,0],[94,2,111,7],[94,17,111,22,"getUserXPInfo"],[94,30,111,35,"getUserXPInfo"],[94,31,111,36,"userId"],[94,37,111,50],[94,39,111,52],[95,4,112,2],[95,8,112,6],[96,6,113,4],[96,12,113,10],[97,8,113,12,"data"],[97,12,113,16],[98,8,113,18,"error"],[99,6,113,24],[99,7,113,25],[99,10,113,28],[99,16,113,34,"supabase"],[99,28,113,42],[99,29,113,42,"supabase"],[99,37,113,42],[99,38,114,7,"from"],[99,42,114,11],[99,43,114,12],[99,53,114,22],[99,54,114,23],[99,55,115,7,"select"],[99,61,115,13],[99,62,115,14],[99,139,115,91],[99,140,115,92],[99,141,116,7,"eq"],[99,143,116,9],[99,144,116,10],[99,148,116,14],[99,150,116,16,"userId"],[99,156,116,22],[99,157,116,23],[99,158,117,7,"single"],[99,164,117,13],[99,165,117,14],[99,166,117,15],[100,6,119,4],[100,10,119,8,"error"],[100,15,119,13],[100,17,119,15],[100,23,119,21,"error"],[100,28,119,26],[101,6,121,4],[101,12,121,10],[102,8,121,12,"level"],[102,13,121,17],[103,8,121,19,"currentLevelXP"],[103,22,121,33],[104,8,121,35,"nextLevelXP"],[104,19,121,46],[105,8,121,48,"progress"],[106,6,121,57],[106,7,121,58],[106,10,121,61],[106,14,121,61,"calculateLevel"],[106,28,121,75],[106,29,121,75,"calculateLevel"],[106,43,121,75],[106,45,121,76,"data"],[106,49,121,80],[106,50,121,81,"total_xp"],[106,58,121,89],[106,59,121,90],[107,6,123,4],[107,13,123,11],[108,8,124,6,"totalXP"],[108,15,124,13],[108,17,124,15,"data"],[108,21,124,19],[108,22,124,20,"total_xp"],[108,30,124,28],[109,8,125,6,"level"],[109,13,125,11],[109,15,125,13,"data"],[109,19,125,17],[109,20,125,18,"level"],[109,25,125,23],[110,8,126,6,"rankTitle"],[110,17,126,15],[110,19,126,17,"data"],[110,23,126,21],[110,24,126,22,"rank_title"],[110,34,126,32],[111,8,127,6,"badges"],[111,14,127,12],[111,16,127,14,"data"],[111,20,127,18],[111,21,127,19,"badges"],[111,27,127,25],[111,31,127,29],[111,33,127,31],[112,8,128,6,"currentWinStreak"],[112,24,128,22],[112,26,128,24,"data"],[112,30,128,28],[112,31,128,29,"current_win_streak"],[112,49,128,47],[113,8,129,6,"longestWinStreak"],[113,24,129,22],[113,26,129,24,"data"],[113,30,129,28],[113,31,129,29,"longest_win_streak"],[113,49,129,47],[114,8,130,6,"currentLevelXP"],[114,22,130,20],[115,8,131,6,"nextLevelXP"],[115,19,131,17],[116,8,132,6,"progress"],[117,6,133,4],[117,7,133,5],[118,4,134,2],[118,5,134,3],[118,6,134,4],[118,13,134,11,"error"],[118,18,134,16],[118,20,134,18],[119,6,135,4,"console"],[119,13,135,11],[119,14,135,12,"error"],[119,19,135,17],[119,20,135,18],[119,40,135,38],[119,42,135,40,"error"],[119,47,135,45],[119,48,135,46],[120,6,136,4],[120,13,136,11],[120,17,136,15],[121,4,137,2],[122,2,138,0],[124,2,140,0],[125,0,141,0],[126,0,142,0],[127,2,143,7],[127,17,143,22,"getLeaderboard"],[127,31,143,36,"getLeaderboard"],[127,32,143,37,"limit"],[127,37,143,50],[127,40,143,53],[127,43,143,56],[127,45,143,58],[128,4,144,2],[128,8,144,6],[129,6,145,4],[129,12,145,10],[130,8,145,12,"data"],[130,12,145,16],[131,8,145,18,"error"],[132,6,145,24],[132,7,145,25],[132,10,145,28],[132,16,145,34,"supabase"],[132,28,145,42],[132,29,145,42,"supabase"],[132,37,145,42],[132,38,146,7,"from"],[132,42,146,11],[132,43,146,12],[132,56,146,25],[132,57,146,26],[132,58,147,7,"select"],[132,64,147,13],[132,65,147,14],[132,68,147,17],[132,69,147,18],[132,70,148,7,"limit"],[132,75,148,12],[132,76,148,13,"limit"],[132,81,148,18],[132,82,148,19],[133,6,150,4],[133,10,150,8,"error"],[133,15,150,13],[133,17,150,15],[133,23,150,21,"error"],[133,28,150,26],[134,6,152,4],[134,13,152,11,"data"],[134,17,152,15],[134,21,152,19],[134,23,152,21],[135,4,153,2],[135,5,153,3],[135,6,153,4],[135,13,153,11,"error"],[135,18,153,16],[135,20,153,18],[136,6,154,4,"console"],[136,13,154,11],[136,14,154,12,"error"],[136,19,154,17],[136,20,154,18],[136,44,154,42],[136,46,154,44,"error"],[136,51,154,49],[136,52,154,50],[137,6,155,4],[137,13,155,11],[137,15,155,13],[138,4,156,2],[139,2,157,0],[141,2,159,0],[142,0,160,0],[143,0,161,0],[144,2,162,7],[144,17,162,22,"getUserRank"],[144,28,162,33,"getUserRank"],[144,29,162,34,"userId"],[144,35,162,48],[144,37,162,74],[145,4,163,2],[145,8,163,6],[146,6,164,4],[146,12,164,10],[147,8,164,12,"data"],[147,12,164,16],[148,8,164,18,"error"],[149,6,164,24],[149,7,164,25],[149,10,164,28],[149,16,164,34,"supabase"],[149,28,164,42],[149,29,164,42,"supabase"],[149,37,164,42],[149,38,165,7,"from"],[149,42,165,11],[149,43,165,12],[149,56,165,25],[149,57,165,26],[149,58,166,7,"select"],[149,64,166,13],[149,65,166,14],[149,71,166,20],[149,72,166,21],[149,73,167,7,"eq"],[149,75,167,9],[149,76,167,10],[149,80,167,14],[149,82,167,16,"userId"],[149,88,167,22],[149,89,167,23],[149,90,168,7,"single"],[149,96,168,13],[149,97,168,14],[149,98,168,15],[150,6,170,4],[150,10,170,8,"error"],[150,15,170,13],[150,17,170,15],[150,23,170,21,"error"],[150,28,170,26],[151,6,172,4],[151,13,172,11,"data"],[151,17,172,15],[151,19,172,17,"rank"],[151,23,172,21],[151,27,172,25],[151,31,172,29],[152,4,173,2],[152,5,173,3],[152,6,173,4],[152,13,173,11,"error"],[152,18,173,16],[152,20,173,18],[153,6,174,4,"console"],[153,13,174,11],[153,14,174,12,"error"],[153,19,174,17],[153,20,174,18],[153,42,174,40],[153,44,174,42,"error"],[153,49,174,47],[153,50,174,48],[154,6,175,4],[154,13,175,11],[154,17,175,15],[155,4,176,2],[156,2,177,0],[158,2,179,0],[159,0,180,0],[160,0,181,0],[161,2,182,7],[161,17,182,22,"updateBadges"],[161,29,182,34,"updateBadges"],[161,30,182,35,"userId"],[161,36,182,49],[161,38,182,51],[162,4,183,2],[162,8,183,6],[163,6,184,4],[164,6,185,4],[164,12,185,10],[165,8,185,12,"data"],[165,12,185,16],[165,14,185,18,"profile"],[166,6,185,26],[166,7,185,27],[166,10,185,30],[166,16,185,36,"supabase"],[166,28,185,44],[166,29,185,44,"supabase"],[166,37,185,44],[166,38,186,7,"from"],[166,42,186,11],[166,43,186,12],[166,53,186,22],[166,54,186,23],[166,55,187,7,"select"],[166,61,187,13],[166,62,187,14],[167,0,188,0],[168,0,189,0],[169,0,190,0],[170,0,191,0],[171,0,192,0],[172,0,193,0],[173,0,194,0],[173,7,194,7],[173,8,194,8],[173,9,195,7,"eq"],[173,11,195,9],[173,12,195,10],[173,16,195,14],[173,18,195,16,"userId"],[173,24,195,22],[173,25,195,23],[173,26,196,7,"single"],[173,32,196,13],[173,33,196,14],[173,34,196,15],[174,6,198,4],[174,10,198,8],[174,11,198,9,"profile"],[174,18,198,16],[174,20,198,18],[176,6,200,4],[177,6,201,4],[177,12,201,10,"rank"],[177,16,201,14],[177,19,201,17],[177,25,201,23,"getUserRank"],[177,36,201,34],[177,37,201,35,"userId"],[177,43,201,41],[177,44,201,42],[179,6,203,4],[180,6,204,4],[180,12,204,10,"earnedBadges"],[180,24,204,22],[180,27,204,25],[180,31,204,25,"checkBadges"],[180,45,204,36],[180,46,204,36,"checkBadges"],[180,57,204,36],[180,59,204,37],[181,8,205,6],[181,11,205,9,"profile"],[181,18,205,16],[182,8,206,6,"leaderboard_rank"],[182,24,206,22],[182,26,206,24,"rank"],[182,30,206,28],[182,34,206,32,"undefined"],[183,6,207,4],[183,7,207,5],[183,8,207,6],[185,6,209,4],[186,6,210,4],[186,12,210,10,"supabase"],[186,24,210,18],[186,25,210,18,"supabase"],[186,33,210,18],[186,34,211,7,"from"],[186,38,211,11],[186,39,211,12],[186,49,211,22],[186,50,211,23],[186,51,212,7,"update"],[186,57,212,13],[186,58,212,14],[187,8,212,16,"badges"],[187,14,212,22],[187,16,212,24,"earnedBadges"],[188,6,212,37],[188,7,212,38],[188,8,212,39],[188,9,213,7,"eq"],[188,11,213,9],[188,12,213,10],[188,16,213,14],[188,18,213,16,"userId"],[188,24,213,22],[188,25,213,23],[189,4,214,2],[189,5,214,3],[189,6,214,4],[189,13,214,11,"error"],[189,18,214,16],[189,20,214,18],[190,6,215,4,"console"],[190,13,215,11],[190,14,215,12,"error"],[190,19,215,17],[190,20,215,18],[190,42,215,40],[190,44,215,42,"error"],[190,49,215,47],[190,50,215,48],[191,4,216,2],[192,2,217,0],[193,0,217,1],[193,3]],"functionMap":{"names":["<global>","awardXP","awardBattleXP","awardStreamXP","getUserXPInfo","getLeaderboard","getUserRank","updateBadges"],"mappings":"AAA;OCe;CDyC;OEK;CFgB;OGK;CHuB;OIK;CJ2B;OKK;CLc;OMK;CNe;OOK;CPmC"},"hasCjsExports":false},"type":"js/module"}]}