{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":43,"index":177}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    session: null,\n    isLoading: true,\n    signUp: async () => ({\n      error: null\n    }),\n    signIn: async () => ({\n      error: null\n    }),\n    signOut: async () => {}\n  });\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [session, setSession] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Get initial session\n      _libSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        setIsLoading(false);\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        setIsLoading(false);\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const signUp = async (email, password, username) => {\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            username\n          }\n        }\n      });\n      if (!error && data.user) {\n        // Create profile\n        await _libSupabase.supabase.from('profiles').insert({\n          id: data.user.id,\n          username,\n          created_at: new Date().toISOString()\n        });\n      }\n      return {\n        error\n      };\n    };\n    const signIn = async (email, password) => {\n      const {\n        error\n      } = await _libSupabase.supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      return {\n        error\n      };\n    };\n    const signOut = async () => {\n      await _libSupabase.supabase.auth.signOut();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        session,\n        isLoading,\n        signUp,\n        signIn,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":121,"map":[[8,2,23,0,"Object"],[8,8,23,0],[8,9,23,0,"defineProperty"],[8,23,23,0],[8,24,23,0,"exports"],[8,31,23,0],[9,4,23,0,"enumerable"],[9,14,23,0],[10,4,23,0,"get"],[10,7,23,0],[10,18,23,0,"get"],[10,19,23,0],[11,6,23,0],[11,13,23,0,"useAuth"],[11,20,23,0],[12,4,23,0],[13,2,23,0],[14,2,25,0,"Object"],[14,8,25,0],[14,9,25,0,"defineProperty"],[14,23,25,0],[14,24,25,0,"exports"],[14,31,25,0],[15,4,25,0,"enumerable"],[15,14,25,0],[16,4,25,0,"get"],[16,7,25,0],[16,18,25,0,"get"],[16,19,25,0],[17,6,25,0],[17,13,25,0,"AuthProvider"],[17,25,25,0],[18,4,25,0],[19,2,25,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_libSupabase"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,3,43],[22,6,3,43,"_reactJsxDevRuntime"],[22,25,3,43],[22,28,3,43,"require"],[22,35,3,43],[22,36,3,43,"_dependencyMap"],[22,50,3,43],[23,2,14,0],[23,8,14,6,"AuthContext"],[23,19,14,17],[23,35,14,20],[23,39,14,20,"createContext"],[23,45,14,33],[23,46,14,33,"createContext"],[23,59,14,33],[23,61,14,51],[24,4,15,2,"user"],[24,8,15,6],[24,10,15,8],[24,14,15,12],[25,4,16,2,"session"],[25,11,16,9],[25,13,16,11],[25,17,16,15],[26,4,17,2,"isLoading"],[26,13,17,11],[26,15,17,13],[26,19,17,17],[27,4,18,2,"signUp"],[27,10,18,8],[27,12,18,10],[27,18,18,10,"signUp"],[27,19,18,10],[27,25,18,23],[28,6,18,25,"error"],[28,11,18,30],[28,13,18,32],[29,4,18,37],[29,5,18,38],[29,6,18,39],[30,4,19,2,"signIn"],[30,10,19,8],[30,12,19,10],[30,18,19,10,"signIn"],[30,19,19,10],[30,25,19,23],[31,6,19,25,"error"],[31,11,19,30],[31,13,19,32],[32,4,19,37],[32,5,19,38],[32,6,19,39],[33,4,20,2,"signOut"],[33,11,20,9],[33,13,20,11],[33,19,20,11,"signOut"],[33,20,20,11],[33,25,20,23],[33,26,20,24],[34,2,21,0],[34,3,21,1],[34,4,21,2],[35,2,23,7],[35,8,23,13,"useAuth"],[35,15,23,20],[35,18,23,23,"useAuth"],[35,19,23,23],[35,24,23,29],[35,28,23,29,"useContext"],[35,34,23,39],[35,35,23,39,"useContext"],[35,45,23,39],[35,47,23,40,"AuthContext"],[35,58,23,51],[35,59,23,52],[36,2,25,7],[36,8,25,13,"AuthProvider"],[36,20,25,66],[36,23,25,69,"AuthProvider"],[36,24,25,70],[37,4,25,72,"children"],[38,2,25,81],[38,3,25,82],[38,8,25,87],[39,4,26,2],[39,10,26,8],[39,11,26,9,"user"],[39,15,26,13],[39,17,26,15,"setUser"],[39,24,26,22],[39,25,26,23],[39,28,26,26],[39,32,26,26,"useState"],[39,38,26,34],[39,39,26,34,"useState"],[39,47,26,34],[39,49,26,48],[39,53,26,52],[39,54,26,53],[40,4,27,2],[40,10,27,8],[40,11,27,9,"session"],[40,18,27,16],[40,20,27,18,"setSession"],[40,30,27,28],[40,31,27,29],[40,34,27,32],[40,38,27,32,"useState"],[40,44,27,40],[40,45,27,40,"useState"],[40,53,27,40],[40,55,27,57],[40,59,27,61],[40,60,27,62],[41,4,28,2],[41,10,28,8],[41,11,28,9,"isLoading"],[41,20,28,18],[41,22,28,20,"setIsLoading"],[41,34,28,32],[41,35,28,33],[41,38,28,36],[41,42,28,36,"useState"],[41,48,28,44],[41,49,28,44,"useState"],[41,57,28,44],[41,59,28,45],[41,63,28,49],[41,64,28,50],[42,4,30,2],[42,8,30,2,"useEffect"],[42,14,30,11],[42,15,30,11,"useEffect"],[42,24,30,11],[42,26,30,12],[42,32,30,18],[43,6,31,4],[44,6,32,4,"supabase"],[44,18,32,12],[44,19,32,12,"supabase"],[44,27,32,12],[44,28,32,13,"auth"],[44,32,32,17],[44,33,32,18,"getSession"],[44,43,32,28],[44,44,32,29],[44,45,32,30],[44,46,32,31,"then"],[44,50,32,35],[44,51,32,36],[44,52,32,37],[45,8,32,39,"data"],[45,12,32,43],[45,14,32,45],[46,10,32,47,"session"],[47,8,32,55],[48,6,32,57],[48,7,32,58],[48,12,32,63],[49,8,33,6,"setSession"],[49,18,33,16],[49,19,33,17,"session"],[49,26,33,24],[49,27,33,25],[50,8,34,6,"setUser"],[50,15,34,13],[50,16,34,14,"session"],[50,23,34,21],[50,25,34,23,"user"],[50,29,34,27],[50,33,34,31],[50,37,34,35],[50,38,34,36],[51,8,35,6,"setIsLoading"],[51,20,35,18],[51,21,35,19],[51,26,35,24],[51,27,35,25],[52,6,36,4],[52,7,36,5],[52,8,36,6],[54,6,38,4],[55,6,39,4],[55,12,39,10],[56,8,39,12,"data"],[56,12,39,16],[56,14,39,18],[57,10,39,20,"subscription"],[58,8,39,33],[59,6,39,35],[59,7,39,36],[59,10,39,39,"supabase"],[59,22,39,47],[59,23,39,47,"supabase"],[59,31,39,47],[59,32,39,48,"auth"],[59,36,39,52],[59,37,39,53,"onAuthStateChange"],[59,54,39,70],[59,55,39,71],[59,56,39,72,"_event"],[59,62,39,78],[59,64,39,80,"session"],[59,71,39,87],[59,76,39,92],[60,8,40,6,"setSession"],[60,18,40,16],[60,19,40,17,"session"],[60,26,40,24],[60,27,40,25],[61,8,41,6,"setUser"],[61,15,41,13],[61,16,41,14,"session"],[61,23,41,21],[61,25,41,23,"user"],[61,29,41,27],[61,33,41,31],[61,37,41,35],[61,38,41,36],[62,8,42,6,"setIsLoading"],[62,20,42,18],[62,21,42,19],[62,26,42,24],[62,27,42,25],[63,6,43,4],[63,7,43,5],[63,8,43,6],[64,6,45,4],[64,13,45,11],[64,19,45,17,"subscription"],[64,31,45,29],[64,32,45,30,"unsubscribe"],[64,43,45,41],[64,44,45,42],[64,45,45,43],[65,4,46,2],[65,5,46,3],[65,7,46,5],[65,9,46,7],[65,10,46,8],[66,4,48,2],[66,10,48,8,"signUp"],[66,16,48,14],[66,19,48,17],[66,25,48,17,"signUp"],[66,26,48,24,"email"],[66,31,48,37],[66,33,48,39,"password"],[66,41,48,55],[66,43,48,57,"username"],[66,51,48,73],[66,56,48,78],[67,6,49,4],[67,12,49,10],[68,8,49,12,"data"],[68,12,49,16],[69,8,49,18,"error"],[70,6,49,24],[70,7,49,25],[70,10,49,28],[70,16,49,34,"supabase"],[70,28,49,42],[70,29,49,42,"supabase"],[70,37,49,42],[70,38,49,43,"auth"],[70,42,49,47],[70,43,49,48,"signUp"],[70,49,49,54],[70,50,49,55],[71,8,50,6,"email"],[71,13,50,11],[72,8,51,6,"password"],[72,16,51,14],[73,8,52,6,"options"],[73,15,52,13],[73,17,52,15],[74,10,53,8,"data"],[74,14,53,12],[74,16,53,14],[75,12,54,10,"username"],[76,10,55,8],[77,8,56,6],[78,6,57,4],[78,7,57,5],[78,8,57,6],[79,6,59,4],[79,10,59,8],[79,11,59,9,"error"],[79,16,59,14],[79,20,59,18,"data"],[79,24,59,22],[79,25,59,23,"user"],[79,29,59,27],[79,31,59,29],[80,8,60,6],[81,8,61,6],[81,14,61,12,"supabase"],[81,26,61,20],[81,27,61,20,"supabase"],[81,35,61,20],[81,36,61,21,"from"],[81,40,61,25],[81,41,61,26],[81,51,61,36],[81,52,61,37],[81,53,61,38,"insert"],[81,59,61,44],[81,60,61,45],[82,10,62,8,"id"],[82,12,62,10],[82,14,62,12,"data"],[82,18,62,16],[82,19,62,17,"user"],[82,23,62,21],[82,24,62,22,"id"],[82,26,62,24],[83,10,63,8,"username"],[83,18,63,16],[84,10,64,8,"created_at"],[84,20,64,18],[84,22,64,20],[84,26,64,24,"Date"],[84,30,64,28],[84,31,64,29],[84,32,64,30],[84,33,64,31,"toISOString"],[84,44,64,42],[84,45,64,43],[85,8,65,6],[85,9,65,7],[85,10,65,8],[86,6,66,4],[87,6,68,4],[87,13,68,11],[88,8,68,13,"error"],[89,6,68,19],[89,7,68,20],[90,4,69,2],[90,5,69,3],[91,4,71,2],[91,10,71,8,"signIn"],[91,16,71,14],[91,19,71,17],[91,25,71,17,"signIn"],[91,26,71,24,"email"],[91,31,71,37],[91,33,71,39,"password"],[91,41,71,55],[91,46,71,60],[92,6,72,4],[92,12,72,10],[93,8,72,12,"error"],[94,6,72,18],[94,7,72,19],[94,10,72,22],[94,16,72,28,"supabase"],[94,28,72,36],[94,29,72,36,"supabase"],[94,37,72,36],[94,38,72,37,"auth"],[94,42,72,41],[94,43,72,42,"signInWithPassword"],[94,61,72,60],[94,62,72,61],[95,8,73,6,"email"],[95,13,73,11],[96,8,74,6,"password"],[97,6,75,4],[97,7,75,5],[97,8,75,6],[98,6,76,4],[98,13,76,11],[99,8,76,13,"error"],[100,6,76,19],[100,7,76,20],[101,4,77,2],[101,5,77,3],[102,4,79,2],[102,10,79,8,"signOut"],[102,17,79,15],[102,20,79,18],[102,26,79,18,"signOut"],[102,27,79,18],[102,32,79,30],[103,6,80,4],[103,12,80,10,"supabase"],[103,24,80,18],[103,25,80,18,"supabase"],[103,33,80,18],[103,34,80,19,"auth"],[103,38,80,23],[103,39,80,24,"signOut"],[103,46,80,31],[103,47,80,32],[103,48,80,33],[104,4,81,2],[104,5,81,3],[105,4,83,2],[105,24,84,4],[105,28,84,4,"_reactJsxDevRuntime"],[105,47,84,4],[105,48,84,4,"jsxDEV"],[105,54,84,4],[105,56,84,5,"AuthContext"],[105,67,84,16],[105,68,84,17,"Provider"],[105,76,84,25],[106,6,84,26,"value"],[106,11,84,31],[106,13,84,33],[107,8,84,35,"user"],[107,12,84,39],[108,8,84,41,"session"],[108,15,84,48],[109,8,84,50,"isLoading"],[109,17,84,59],[110,8,84,61,"signUp"],[110,14,84,67],[111,8,84,69,"signIn"],[111,14,84,75],[112,8,84,77,"signOut"],[113,6,84,85],[113,7,84,87],[114,6,84,87,"children"],[114,14,84,87],[114,16,85,7,"children"],[115,4,85,15],[116,6,85,15,"fileName"],[116,14,85,15],[116,16,85,15,"_jsxFileName"],[116,28,85,15],[117,6,85,15,"lineNumber"],[117,16,85,15],[118,6,85,15,"columnNumber"],[118,18,85,15],[119,4,85,15],[119,11,86,26],[119,12,86,27],[120,2,88,0],[120,3,88,1],[121,0,88,2],[121,3]],"functionMap":{"names":["<global>","createContext$argument_0.signUp","createContext$argument_0.signIn","createContext$argument_0.signOut","useAuth","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","signUp","signIn","signOut"],"mappings":"AAA;UCiB,6BD;UEC,6BF;WGC,cH;uBIG,6BJ;qEKE;YCK;oCCE;KDI;uEEG;KFI;WGE,gCH;GDC;iBKE;GLqB;iBME;GNM;kBOE;GPE;CLO"},"hasCjsExports":false},"type":"js/module"}]}