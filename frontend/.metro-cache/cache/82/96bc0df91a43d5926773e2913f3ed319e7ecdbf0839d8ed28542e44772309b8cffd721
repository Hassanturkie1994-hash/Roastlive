{"dependencies":[{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"matchmakingService\", {\n    enumerable: true,\n    get: function () {\n      return matchmakingService;\n    }\n  });\n  var _libSupabase = require(_dependencyMap[0], \"../lib/supabase\");\n  const MATCH_DURATIONS = {\n    '1v1': 180,\n    // 3 minutes\n    '2v2': 300,\n    // 5 minutes\n    '3v3': 480,\n    // 8 minutes\n    '4v4': 720,\n    // 12 minutes\n    '5v5': 900 // 15 minutes\n  };\n  const matchmakingService = {\n    // Join matchmaking queue\n    async joinQueue(userId, teamSize) {\n      try {\n        // Check if user is already in queue\n        const {\n          data: existing\n        } = await _libSupabase.supabase.from('matchmaking_queue').select('*').eq('user_id', userId).eq('status', 'waiting').single();\n        if (existing) {\n          return {\n            success: true,\n            queueId: existing.id\n          };\n        }\n\n        // Add to queue\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('matchmaking_queue').insert({\n          user_id: userId,\n          team_size: teamSize,\n          status: 'waiting'\n        }).select().single();\n        if (error) throw error;\n        return {\n          success: true,\n          queueId: data.id\n        };\n      } catch (error) {\n        console.error('Join queue error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Leave matchmaking queue\n    async leaveQueue(userId) {\n      try {\n        const {\n          error\n        } = await _libSupabase.supabase.from('matchmaking_queue').update({\n          status: 'cancelled',\n          cancelled_at: new Date().toISOString()\n        }).eq('user_id', userId).eq('status', 'waiting');\n        if (error) throw error;\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Leave queue error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Get queue status\n    async getQueueStatus(userId) {\n      try {\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('matchmaking_queue').select('*').eq('user_id', userId).eq('status', 'waiting').single();\n        if (error || !data) return null;\n        return data;\n      } catch (error) {\n        console.error('Get queue status error:', error);\n        return null;\n      }\n    },\n    // Get estimated wait time (mock implementation)\n    async getEstimatedWaitTime(teamSize) {\n      try {\n        const {\n          count\n        } = await _libSupabase.supabase.from('matchmaking_queue').select('*', {\n          count: 'exact',\n          head: true\n        }).eq('team_size', teamSize).eq('status', 'waiting');\n\n        // Simple estimation: 30 seconds per person in queue\n        return (count || 0) * 30;\n      } catch (error) {\n        console.error('Get wait time error:', error);\n        return 0;\n      }\n    },\n    // Create match (typically called by server-side matchmaking logic)\n    async createMatch(teamSize, participantIds) {\n      try {\n        const duration = MATCH_DURATIONS[teamSize];\n\n        // Create match\n        const {\n          data: match,\n          error: matchError\n        } = await _libSupabase.supabase.from('battle_matches').insert({\n          team_size: teamSize,\n          status: 'forming',\n          duration_seconds: duration\n        }).select().single();\n        if (matchError) throw matchError;\n\n        // Assign participants to teams\n        const teamSize_num = parseInt(teamSize[0]);\n        const participants = participantIds.map((userId, index) => ({\n          match_id: match.id,\n          user_id: userId,\n          team: index < teamSize_num ? 'team_a' : 'team_b',\n          is_ready: false\n        }));\n        const {\n          error: participantsError\n        } = await _libSupabase.supabase.from('battle_participants').insert(participants);\n        if (participantsError) throw participantsError;\n\n        // Update queue entries\n        const {\n          error: queueError\n        } = await _libSupabase.supabase.from('matchmaking_queue').update({\n          status: 'matched',\n          match_id: match.id,\n          matched_at: new Date().toISOString()\n        }).in('user_id', participantIds);\n        if (queueError) throw queueError;\n        return {\n          success: true,\n          matchId: match.id\n        };\n      } catch (error) {\n        console.error('Create match error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Get match details\n    async getMatch(matchId) {\n      try {\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('battle_matches').select('*').eq('id', matchId).single();\n        if (error || !data) return null;\n        return data;\n      } catch (error) {\n        console.error('Get match error:', error);\n        return null;\n      }\n    },\n    // Get match participants\n    async getMatchParticipants(matchId) {\n      try {\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('battle_participants').select('*').eq('match_id', matchId);\n        if (error || !data) return [];\n        return data;\n      } catch (error) {\n        console.error('Get match participants error:', error);\n        return [];\n      }\n    },\n    // Mark player as ready\n    async markReady(matchId, userId) {\n      try {\n        const {\n          error\n        } = await _libSupabase.supabase.from('battle_participants').update({\n          is_ready: true,\n          accepted_at: new Date().toISOString()\n        }).eq('match_id', matchId).eq('user_id', userId);\n        if (error) throw error;\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Mark ready error:', error);\n        return {\n          success: false\n        };\n      }\n    },\n    // Start match (when all players ready)\n    async startMatch(matchId) {\n      try {\n        const {\n          error\n        } = await _libSupabase.supabase.from('battle_matches').update({\n          status: 'in_progress',\n          started_at: new Date().toISOString()\n        }).eq('id', matchId);\n        if (error) throw error;\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Start match error:', error);\n        return {\n          success: false\n        };\n      }\n    },\n    // End match\n    async endMatch(matchId) {\n      try {\n        const {\n          error\n        } = await _libSupabase.supabase.from('battle_matches').update({\n          status: 'completed',\n          ended_at: new Date().toISOString()\n        }).eq('id', matchId);\n        if (error) throw error;\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('End match error:', error);\n        return {\n          success: false\n        };\n      }\n    },\n    // Request rematch\n    async requestRematch(previousMatchId, requesterId) {\n      try {\n        const expiresAt = new Date(Date.now() + 20 * 1000); // 20 seconds\n\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('rematch_requests').insert({\n          previous_match_id: previousMatchId,\n          requester_id: requesterId,\n          status: 'pending',\n          expires_at: expiresAt.toISOString()\n        }).select().single();\n        if (error) throw error;\n        return {\n          success: true,\n          rematchId: data.id\n        };\n      } catch (error) {\n        console.error('Request rematch error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Accept/decline rematch\n    async respondToRematch(rematchRequestId, userId, accepted) {\n      try {\n        const {\n          error\n        } = await _libSupabase.supabase.from('rematch_acceptances').insert({\n          rematch_request_id: rematchRequestId,\n          user_id: userId,\n          accepted\n        });\n        if (error) throw error;\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Respond to rematch error:', error);\n        return {\n          success: false\n        };\n      }\n    },\n    // Subscribe to queue updates (real-time)\n    subscribeToQueue(userId, callback) {\n      const channel = _libSupabase.supabase.channel(`queue:${userId}`).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'matchmaking_queue',\n        filter: `user_id=eq.${userId}`\n      }, payload => {\n        callback(payload.new);\n      }).subscribe();\n      return () => {\n        _libSupabase.supabase.removeChannel(channel);\n      };\n    },\n    // Subscribe to match updates (real-time)\n    subscribeToMatch(matchId, callback) {\n      const channel = _libSupabase.supabase.channel(`match:${matchId}`).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'battle_matches',\n        filter: `id=eq.${matchId}`\n      }, payload => {\n        callback(payload.new);\n      }).subscribe();\n      return () => {\n        _libSupabase.supabase.removeChannel(channel);\n      };\n    }\n  };\n});","lineCount":329,"map":[[7,2,44,0,"Object"],[7,8,44,0],[7,9,44,0,"defineProperty"],[7,23,44,0],[7,24,44,0,"exports"],[7,31,44,0],[8,4,44,0,"enumerable"],[8,14,44,0],[9,4,44,0,"get"],[9,7,44,0],[9,18,44,0,"get"],[9,19,44,0],[10,6,44,0],[10,13,44,0,"matchmakingService"],[10,31,44,0],[11,4,44,0],[12,2,44,0],[13,2,1,0],[13,6,1,0,"_libSupabase"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,36,0],[14,8,36,6,"MATCH_DURATIONS"],[14,23,36,47],[14,26,36,50],[15,4,37,2],[15,9,37,7],[15,11,37,9],[15,14,37,12],[16,4,37,15],[17,4,38,2],[17,9,38,7],[17,11,38,9],[17,14,38,12],[18,4,38,15],[19,4,39,2],[19,9,39,7],[19,11,39,9],[19,14,39,12],[20,4,39,15],[21,4,40,2],[21,9,40,7],[21,11,40,9],[21,14,40,12],[22,4,40,15],[23,4,41,2],[23,9,41,7],[23,11,41,9],[23,14,41,12],[23,15,41,15],[24,2,42,0],[24,3,42,1],[25,2,44,7],[25,8,44,13,"matchmakingService"],[25,26,44,31],[25,29,44,34],[26,4,45,2],[27,4,46,2],[27,10,46,8,"joinQueue"],[27,19,46,17,"joinQueue"],[27,20,47,4,"userId"],[27,26,47,18],[27,28,48,4,"teamSize"],[27,36,48,22],[27,38,49,69],[28,6,50,4],[28,10,50,8],[29,8,51,6],[30,8,52,6],[30,14,52,12],[31,10,52,14,"data"],[31,14,52,18],[31,16,52,20,"existing"],[32,8,52,29],[32,9,52,30],[32,12,52,33],[32,18,52,39,"supabase"],[32,30,52,47],[32,31,52,47,"supabase"],[32,39,52,47],[32,40,53,9,"from"],[32,44,53,13],[32,45,53,14],[32,64,53,33],[32,65,53,34],[32,66,54,9,"select"],[32,72,54,15],[32,73,54,16],[32,76,54,19],[32,77,54,20],[32,78,55,9,"eq"],[32,80,55,11],[32,81,55,12],[32,90,55,21],[32,92,55,23,"userId"],[32,98,55,29],[32,99,55,30],[32,100,56,9,"eq"],[32,102,56,11],[32,103,56,12],[32,111,56,20],[32,113,56,22],[32,122,56,31],[32,123,56,32],[32,124,57,9,"single"],[32,130,57,15],[32,131,57,16],[32,132,57,17],[33,8,59,6],[33,12,59,10,"existing"],[33,20,59,18],[33,22,59,20],[34,10,60,8],[34,17,60,15],[35,12,60,17,"success"],[35,19,60,24],[35,21,60,26],[35,25,60,30],[36,12,60,32,"queueId"],[36,19,60,39],[36,21,60,41,"existing"],[36,29,60,49],[36,30,60,50,"id"],[37,10,60,53],[37,11,60,54],[38,8,61,6],[40,8,63,6],[41,8,64,6],[41,14,64,12],[42,10,64,14,"data"],[42,14,64,18],[43,10,64,20,"error"],[44,8,64,26],[44,9,64,27],[44,12,64,30],[44,18,64,36,"supabase"],[44,30,64,44],[44,31,64,44,"supabase"],[44,39,64,44],[44,40,65,9,"from"],[44,44,65,13],[44,45,65,14],[44,64,65,33],[44,65,65,34],[44,66,66,9,"insert"],[44,72,66,15],[44,73,66,16],[45,10,67,10,"user_id"],[45,17,67,17],[45,19,67,19,"userId"],[45,25,67,25],[46,10,68,10,"team_size"],[46,19,68,19],[46,21,68,21,"teamSize"],[46,29,68,29],[47,10,69,10,"status"],[47,16,69,16],[47,18,69,18],[48,8,70,8],[48,9,70,9],[48,10,70,10],[48,11,71,9,"select"],[48,17,71,15],[48,18,71,16],[48,19,71,17],[48,20,72,9,"single"],[48,26,72,15],[48,27,72,16],[48,28,72,17],[49,8,74,6],[49,12,74,10,"error"],[49,17,74,15],[49,19,74,17],[49,25,74,23,"error"],[49,30,74,28],[50,8,76,6],[50,15,76,13],[51,10,76,15,"success"],[51,17,76,22],[51,19,76,24],[51,23,76,28],[52,10,76,30,"queueId"],[52,17,76,37],[52,19,76,39,"data"],[52,23,76,43],[52,24,76,44,"id"],[53,8,76,47],[53,9,76,48],[54,6,77,4],[54,7,77,5],[54,8,77,6],[54,15,77,13,"error"],[54,20,77,23],[54,22,77,25],[55,8,78,6,"console"],[55,15,78,13],[55,16,78,14,"error"],[55,21,78,19],[55,22,78,20],[55,41,78,39],[55,43,78,41,"error"],[55,48,78,46],[55,49,78,47],[56,8,79,6],[56,15,79,13],[57,10,79,15,"success"],[57,17,79,22],[57,19,79,24],[57,24,79,29],[58,10,79,31,"error"],[58,15,79,36],[58,17,79,38,"error"],[58,22,79,43],[58,23,79,44,"message"],[59,8,79,52],[59,9,79,53],[60,6,80,4],[61,4,81,2],[61,5,81,3],[62,4,83,2],[63,4,84,2],[63,10,84,8,"leaveQueue"],[63,20,84,18,"leaveQueue"],[63,21,84,19,"userId"],[63,27,84,33],[63,29,84,82],[64,6,85,4],[64,10,85,8],[65,8,86,6],[65,14,86,12],[66,10,86,14,"error"],[67,8,86,20],[67,9,86,21],[67,12,86,24],[67,18,86,30,"supabase"],[67,30,86,38],[67,31,86,38,"supabase"],[67,39,86,38],[67,40,87,9,"from"],[67,44,87,13],[67,45,87,14],[67,64,87,33],[67,65,87,34],[67,66,88,9,"update"],[67,72,88,15],[67,73,88,16],[68,10,88,18,"status"],[68,16,88,24],[68,18,88,26],[68,29,88,37],[69,10,88,39,"cancelled_at"],[69,22,88,51],[69,24,88,53],[69,28,88,57,"Date"],[69,32,88,61],[69,33,88,62],[69,34,88,63],[69,35,88,64,"toISOString"],[69,46,88,75],[69,47,88,76],[70,8,88,78],[70,9,88,79],[70,10,88,80],[70,11,89,9,"eq"],[70,13,89,11],[70,14,89,12],[70,23,89,21],[70,25,89,23,"userId"],[70,31,89,29],[70,32,89,30],[70,33,90,9,"eq"],[70,35,90,11],[70,36,90,12],[70,44,90,20],[70,46,90,22],[70,55,90,31],[70,56,90,32],[71,8,92,6],[71,12,92,10,"error"],[71,17,92,15],[71,19,92,17],[71,25,92,23,"error"],[71,30,92,28],[72,8,94,6],[72,15,94,13],[73,10,94,15,"success"],[73,17,94,22],[73,19,94,24],[74,8,94,29],[74,9,94,30],[75,6,95,4],[75,7,95,5],[75,8,95,6],[75,15,95,13,"error"],[75,20,95,23],[75,22,95,25],[76,8,96,6,"console"],[76,15,96,13],[76,16,96,14,"error"],[76,21,96,19],[76,22,96,20],[76,42,96,40],[76,44,96,42,"error"],[76,49,96,47],[76,50,96,48],[77,8,97,6],[77,15,97,13],[78,10,97,15,"success"],[78,17,97,22],[78,19,97,24],[78,24,97,29],[79,10,97,31,"error"],[79,15,97,36],[79,17,97,38,"error"],[79,22,97,43],[79,23,97,44,"message"],[80,8,97,52],[80,9,97,53],[81,6,98,4],[82,4,99,2],[82,5,99,3],[83,4,101,2],[84,4,102,2],[84,10,102,8,"getQueueStatus"],[84,24,102,22,"getQueueStatus"],[84,25,102,23,"userId"],[84,31,102,37],[84,33,102,67],[85,6,103,4],[85,10,103,8],[86,8,104,6],[86,14,104,12],[87,10,104,14,"data"],[87,14,104,18],[88,10,104,20,"error"],[89,8,104,26],[89,9,104,27],[89,12,104,30],[89,18,104,36,"supabase"],[89,30,104,44],[89,31,104,44,"supabase"],[89,39,104,44],[89,40,105,9,"from"],[89,44,105,13],[89,45,105,14],[89,64,105,33],[89,65,105,34],[89,66,106,9,"select"],[89,72,106,15],[89,73,106,16],[89,76,106,19],[89,77,106,20],[89,78,107,9,"eq"],[89,80,107,11],[89,81,107,12],[89,90,107,21],[89,92,107,23,"userId"],[89,98,107,29],[89,99,107,30],[89,100,108,9,"eq"],[89,102,108,11],[89,103,108,12],[89,111,108,20],[89,113,108,22],[89,122,108,31],[89,123,108,32],[89,124,109,9,"single"],[89,130,109,15],[89,131,109,16],[89,132,109,17],[90,8,111,6],[90,12,111,10,"error"],[90,17,111,15],[90,21,111,19],[90,22,111,20,"data"],[90,26,111,24],[90,28,111,26],[90,35,111,33],[90,39,111,37],[91,8,112,6],[91,15,112,13,"data"],[91,19,112,17],[92,6,113,4],[92,7,113,5],[92,8,113,6],[92,15,113,13,"error"],[92,20,113,18],[92,22,113,20],[93,8,114,6,"console"],[93,15,114,13],[93,16,114,14,"error"],[93,21,114,19],[93,22,114,20],[93,47,114,45],[93,49,114,47,"error"],[93,54,114,52],[93,55,114,53],[94,8,115,6],[94,15,115,13],[94,19,115,17],[95,6,116,4],[96,4,117,2],[96,5,117,3],[97,4,119,2],[98,4,120,2],[98,10,120,8,"getEstimatedWaitTime"],[98,30,120,28,"getEstimatedWaitTime"],[98,31,120,29,"teamSize"],[98,39,120,47],[98,41,120,66],[99,6,121,4],[99,10,121,8],[100,8,122,6],[100,14,122,12],[101,10,122,14,"count"],[102,8,122,20],[102,9,122,21],[102,12,122,24],[102,18,122,30,"supabase"],[102,30,122,38],[102,31,122,38,"supabase"],[102,39,122,38],[102,40,123,9,"from"],[102,44,123,13],[102,45,123,14],[102,64,123,33],[102,65,123,34],[102,66,124,9,"select"],[102,72,124,15],[102,73,124,16],[102,76,124,19],[102,78,124,21],[103,10,124,23,"count"],[103,15,124,28],[103,17,124,30],[103,24,124,37],[104,10,124,39,"head"],[104,14,124,43],[104,16,124,45],[105,8,124,50],[105,9,124,51],[105,10,124,52],[105,11,125,9,"eq"],[105,13,125,11],[105,14,125,12],[105,25,125,23],[105,27,125,25,"teamSize"],[105,35,125,33],[105,36,125,34],[105,37,126,9,"eq"],[105,39,126,11],[105,40,126,12],[105,48,126,20],[105,50,126,22],[105,59,126,31],[105,60,126,32],[107,8,128,6],[108,8,129,6],[108,15,129,13],[108,16,129,14,"count"],[108,21,129,19],[108,25,129,23],[108,26,129,24],[108,30,129,28],[108,32,129,30],[109,6,130,4],[109,7,130,5],[109,8,130,6],[109,15,130,13,"error"],[109,20,130,18],[109,22,130,20],[110,8,131,6,"console"],[110,15,131,13],[110,16,131,14,"error"],[110,21,131,19],[110,22,131,20],[110,44,131,42],[110,46,131,44,"error"],[110,51,131,49],[110,52,131,50],[111,8,132,6],[111,15,132,13],[111,16,132,14],[112,6,133,4],[113,4,134,2],[113,5,134,3],[114,4,136,2],[115,4,137,2],[115,10,137,8,"createMatch"],[115,21,137,19,"createMatch"],[115,22,138,4,"teamSize"],[115,30,138,22],[115,32,139,4,"participantIds"],[115,46,139,28],[115,48,140,69],[116,6,141,4],[116,10,141,8],[117,8,142,6],[117,14,142,12,"duration"],[117,22,142,20],[117,25,142,23,"MATCH_DURATIONS"],[117,40,142,38],[117,41,142,39,"teamSize"],[117,49,142,47],[117,50,142,48],[119,8,144,6],[120,8,145,6],[120,14,145,12],[121,10,145,14,"data"],[121,14,145,18],[121,16,145,20,"match"],[121,21,145,25],[122,10,145,27,"error"],[122,15,145,32],[122,17,145,34,"matchError"],[123,8,145,45],[123,9,145,46],[123,12,145,49],[123,18,145,55,"supabase"],[123,30,145,63],[123,31,145,63,"supabase"],[123,39,145,63],[123,40,146,9,"from"],[123,44,146,13],[123,45,146,14],[123,61,146,30],[123,62,146,31],[123,63,147,9,"insert"],[123,69,147,15],[123,70,147,16],[124,10,148,10,"team_size"],[124,19,148,19],[124,21,148,21,"teamSize"],[124,29,148,29],[125,10,149,10,"status"],[125,16,149,16],[125,18,149,18],[125,27,149,27],[126,10,150,10,"duration_seconds"],[126,26,150,26],[126,28,150,28,"duration"],[127,8,151,8],[127,9,151,9],[127,10,151,10],[127,11,152,9,"select"],[127,17,152,15],[127,18,152,16],[127,19,152,17],[127,20,153,9,"single"],[127,26,153,15],[127,27,153,16],[127,28,153,17],[128,8,155,6],[128,12,155,10,"matchError"],[128,22,155,20],[128,24,155,22],[128,30,155,28,"matchError"],[128,40,155,38],[130,8,157,6],[131,8,158,6],[131,14,158,12,"teamSize_num"],[131,26,158,24],[131,29,158,27,"parseInt"],[131,37,158,35],[131,38,158,36,"teamSize"],[131,46,158,44],[131,47,158,45],[131,48,158,46],[131,49,158,47],[131,50,158,48],[132,8,159,6],[132,14,159,12,"participants"],[132,26,159,24],[132,29,159,27,"participantIds"],[132,43,159,41],[132,44,159,42,"map"],[132,47,159,45],[132,48,159,46],[132,49,159,47,"userId"],[132,55,159,53],[132,57,159,55,"index"],[132,62,159,60],[132,68,159,66],[133,10,160,8,"match_id"],[133,18,160,16],[133,20,160,18,"match"],[133,25,160,23],[133,26,160,24,"id"],[133,28,160,26],[134,10,161,8,"user_id"],[134,17,161,15],[134,19,161,17,"userId"],[134,25,161,23],[135,10,162,8,"team"],[135,14,162,12],[135,16,162,14,"index"],[135,21,162,19],[135,24,162,22,"teamSize_num"],[135,36,162,34],[135,39,162,37],[135,47,162,45],[135,50,162,48],[135,58,162,56],[136,10,163,8,"is_ready"],[136,18,163,16],[136,20,163,18],[137,8,164,6],[137,9,164,7],[137,10,164,8],[137,11,164,9],[138,8,166,6],[138,14,166,12],[139,10,166,14,"error"],[139,15,166,19],[139,17,166,21,"participantsError"],[140,8,166,39],[140,9,166,40],[140,12,166,43],[140,18,166,49,"supabase"],[140,30,166,57],[140,31,166,57,"supabase"],[140,39,166,57],[140,40,167,9,"from"],[140,44,167,13],[140,45,167,14],[140,66,167,35],[140,67,167,36],[140,68,168,9,"insert"],[140,74,168,15],[140,75,168,16,"participants"],[140,87,168,28],[140,88,168,29],[141,8,170,6],[141,12,170,10,"participantsError"],[141,29,170,27],[141,31,170,29],[141,37,170,35,"participantsError"],[141,54,170,52],[143,8,172,6],[144,8,173,6],[144,14,173,12],[145,10,173,14,"error"],[145,15,173,19],[145,17,173,21,"queueError"],[146,8,173,32],[146,9,173,33],[146,12,173,36],[146,18,173,42,"supabase"],[146,30,173,50],[146,31,173,50,"supabase"],[146,39,173,50],[146,40,174,9,"from"],[146,44,174,13],[146,45,174,14],[146,64,174,33],[146,65,174,34],[146,66,175,9,"update"],[146,72,175,15],[146,73,175,16],[147,10,176,10,"status"],[147,16,176,16],[147,18,176,18],[147,27,176,27],[148,10,177,10,"match_id"],[148,18,177,18],[148,20,177,20,"match"],[148,25,177,25],[148,26,177,26,"id"],[148,28,177,28],[149,10,178,10,"matched_at"],[149,20,178,20],[149,22,178,22],[149,26,178,26,"Date"],[149,30,178,30],[149,31,178,31],[149,32,178,32],[149,33,178,33,"toISOString"],[149,44,178,44],[149,45,178,45],[150,8,179,8],[150,9,179,9],[150,10,179,10],[150,11,180,9,"in"],[150,13,180,11],[150,14,180,12],[150,23,180,21],[150,25,180,23,"participantIds"],[150,39,180,37],[150,40,180,38],[151,8,182,6],[151,12,182,10,"queueError"],[151,22,182,20],[151,24,182,22],[151,30,182,28,"queueError"],[151,40,182,38],[152,8,184,6],[152,15,184,13],[153,10,184,15,"success"],[153,17,184,22],[153,19,184,24],[153,23,184,28],[154,10,184,30,"matchId"],[154,17,184,37],[154,19,184,39,"match"],[154,24,184,44],[154,25,184,45,"id"],[155,8,184,48],[155,9,184,49],[156,6,185,4],[156,7,185,5],[156,8,185,6],[156,15,185,13,"error"],[156,20,185,23],[156,22,185,25],[157,8,186,6,"console"],[157,15,186,13],[157,16,186,14,"error"],[157,21,186,19],[157,22,186,20],[157,43,186,41],[157,45,186,43,"error"],[157,50,186,48],[157,51,186,49],[158,8,187,6],[158,15,187,13],[159,10,187,15,"success"],[159,17,187,22],[159,19,187,24],[159,24,187,29],[160,10,187,31,"error"],[160,15,187,36],[160,17,187,38,"error"],[160,22,187,43],[160,23,187,44,"message"],[161,8,187,52],[161,9,187,53],[162,6,188,4],[163,4,189,2],[163,5,189,3],[164,4,191,2],[165,4,192,2],[165,10,192,8,"getMatch"],[165,18,192,16,"getMatch"],[165,19,192,17,"matchId"],[165,26,192,32],[165,28,192,63],[166,6,193,4],[166,10,193,8],[167,8,194,6],[167,14,194,12],[168,10,194,14,"data"],[168,14,194,18],[169,10,194,20,"error"],[170,8,194,26],[170,9,194,27],[170,12,194,30],[170,18,194,36,"supabase"],[170,30,194,44],[170,31,194,44,"supabase"],[170,39,194,44],[170,40,195,9,"from"],[170,44,195,13],[170,45,195,14],[170,61,195,30],[170,62,195,31],[170,63,196,9,"select"],[170,69,196,15],[170,70,196,16],[170,73,196,19],[170,74,196,20],[170,75,197,9,"eq"],[170,77,197,11],[170,78,197,12],[170,82,197,16],[170,84,197,18,"matchId"],[170,91,197,25],[170,92,197,26],[170,93,198,9,"single"],[170,99,198,15],[170,100,198,16],[170,101,198,17],[171,8,200,6],[171,12,200,10,"error"],[171,17,200,15],[171,21,200,19],[171,22,200,20,"data"],[171,26,200,24],[171,28,200,26],[171,35,200,33],[171,39,200,37],[172,8,201,6],[172,15,201,13,"data"],[172,19,201,17],[173,6,202,4],[173,7,202,5],[173,8,202,6],[173,15,202,13,"error"],[173,20,202,18],[173,22,202,20],[174,8,203,6,"console"],[174,15,203,13],[174,16,203,14,"error"],[174,21,203,19],[174,22,203,20],[174,40,203,38],[174,42,203,40,"error"],[174,47,203,45],[174,48,203,46],[175,8,204,6],[175,15,204,13],[175,19,204,17],[176,6,205,4],[177,4,206,2],[177,5,206,3],[178,4,208,2],[179,4,209,2],[179,10,209,8,"getMatchParticipants"],[179,30,209,28,"getMatchParticipants"],[179,31,209,29,"matchId"],[179,38,209,44],[179,40,209,75],[180,6,210,4],[180,10,210,8],[181,8,211,6],[181,14,211,12],[182,10,211,14,"data"],[182,14,211,18],[183,10,211,20,"error"],[184,8,211,26],[184,9,211,27],[184,12,211,30],[184,18,211,36,"supabase"],[184,30,211,44],[184,31,211,44,"supabase"],[184,39,211,44],[184,40,212,9,"from"],[184,44,212,13],[184,45,212,14],[184,66,212,35],[184,67,212,36],[184,68,213,9,"select"],[184,74,213,15],[184,75,213,16],[184,78,213,19],[184,79,213,20],[184,80,214,9,"eq"],[184,82,214,11],[184,83,214,12],[184,93,214,22],[184,95,214,24,"matchId"],[184,102,214,31],[184,103,214,32],[185,8,216,6],[185,12,216,10,"error"],[185,17,216,15],[185,21,216,19],[185,22,216,20,"data"],[185,26,216,24],[185,28,216,26],[185,35,216,33],[185,37,216,35],[186,8,217,6],[186,15,217,13,"data"],[186,19,217,17],[187,6,218,4],[187,7,218,5],[187,8,218,6],[187,15,218,13,"error"],[187,20,218,18],[187,22,218,20],[188,8,219,6,"console"],[188,15,219,13],[188,16,219,14,"error"],[188,21,219,19],[188,22,219,20],[188,53,219,51],[188,55,219,53,"error"],[188,60,219,58],[188,61,219,59],[189,8,220,6],[189,15,220,13],[189,17,220,15],[190,6,221,4],[191,4,222,2],[191,5,222,3],[192,4,224,2],[193,4,225,2],[193,10,225,8,"markReady"],[193,19,225,17,"markReady"],[193,20,225,18,"matchId"],[193,27,225,33],[193,29,225,35,"userId"],[193,35,225,49],[193,37,225,82],[194,6,226,4],[194,10,226,8],[195,8,227,6],[195,14,227,12],[196,10,227,14,"error"],[197,8,227,20],[197,9,227,21],[197,12,227,24],[197,18,227,30,"supabase"],[197,30,227,38],[197,31,227,38,"supabase"],[197,39,227,38],[197,40,228,9,"from"],[197,44,228,13],[197,45,228,14],[197,66,228,35],[197,67,228,36],[197,68,229,9,"update"],[197,74,229,15],[197,75,229,16],[198,10,230,10,"is_ready"],[198,18,230,18],[198,20,230,20],[198,24,230,24],[199,10,231,10,"accepted_at"],[199,21,231,21],[199,23,231,23],[199,27,231,27,"Date"],[199,31,231,31],[199,32,231,32],[199,33,231,33],[199,34,231,34,"toISOString"],[199,45,231,45],[199,46,231,46],[200,8,232,8],[200,9,232,9],[200,10,232,10],[200,11,233,9,"eq"],[200,13,233,11],[200,14,233,12],[200,24,233,22],[200,26,233,24,"matchId"],[200,33,233,31],[200,34,233,32],[200,35,234,9,"eq"],[200,37,234,11],[200,38,234,12],[200,47,234,21],[200,49,234,23,"userId"],[200,55,234,29],[200,56,234,30],[201,8,236,6],[201,12,236,10,"error"],[201,17,236,15],[201,19,236,17],[201,25,236,23,"error"],[201,30,236,28],[202,8,238,6],[202,15,238,13],[203,10,238,15,"success"],[203,17,238,22],[203,19,238,24],[204,8,238,29],[204,9,238,30],[205,6,239,4],[205,7,239,5],[205,8,239,6],[205,15,239,13,"error"],[205,20,239,18],[205,22,239,20],[206,8,240,6,"console"],[206,15,240,13],[206,16,240,14,"error"],[206,21,240,19],[206,22,240,20],[206,41,240,39],[206,43,240,41,"error"],[206,48,240,46],[206,49,240,47],[207,8,241,6],[207,15,241,13],[208,10,241,15,"success"],[208,17,241,22],[208,19,241,24],[209,8,241,30],[209,9,241,31],[210,6,242,4],[211,4,243,2],[211,5,243,3],[212,4,245,2],[213,4,246,2],[213,10,246,8,"startMatch"],[213,20,246,18,"startMatch"],[213,21,246,19,"matchId"],[213,28,246,34],[213,30,246,67],[214,6,247,4],[214,10,247,8],[215,8,248,6],[215,14,248,12],[216,10,248,14,"error"],[217,8,248,20],[217,9,248,21],[217,12,248,24],[217,18,248,30,"supabase"],[217,30,248,38],[217,31,248,38,"supabase"],[217,39,248,38],[217,40,249,9,"from"],[217,44,249,13],[217,45,249,14],[217,61,249,30],[217,62,249,31],[217,63,250,9,"update"],[217,69,250,15],[217,70,250,16],[218,10,251,10,"status"],[218,16,251,16],[218,18,251,18],[218,31,251,31],[219,10,252,10,"started_at"],[219,20,252,20],[219,22,252,22],[219,26,252,26,"Date"],[219,30,252,30],[219,31,252,31],[219,32,252,32],[219,33,252,33,"toISOString"],[219,44,252,44],[219,45,252,45],[220,8,253,8],[220,9,253,9],[220,10,253,10],[220,11,254,9,"eq"],[220,13,254,11],[220,14,254,12],[220,18,254,16],[220,20,254,18,"matchId"],[220,27,254,25],[220,28,254,26],[221,8,256,6],[221,12,256,10,"error"],[221,17,256,15],[221,19,256,17],[221,25,256,23,"error"],[221,30,256,28],[222,8,258,6],[222,15,258,13],[223,10,258,15,"success"],[223,17,258,22],[223,19,258,24],[224,8,258,29],[224,9,258,30],[225,6,259,4],[225,7,259,5],[225,8,259,6],[225,15,259,13,"error"],[225,20,259,18],[225,22,259,20],[226,8,260,6,"console"],[226,15,260,13],[226,16,260,14,"error"],[226,21,260,19],[226,22,260,20],[226,42,260,40],[226,44,260,42,"error"],[226,49,260,47],[226,50,260,48],[227,8,261,6],[227,15,261,13],[228,10,261,15,"success"],[228,17,261,22],[228,19,261,24],[229,8,261,30],[229,9,261,31],[230,6,262,4],[231,4,263,2],[231,5,263,3],[232,4,265,2],[233,4,266,2],[233,10,266,8,"endMatch"],[233,18,266,16,"endMatch"],[233,19,266,17,"matchId"],[233,26,266,32],[233,28,266,65],[234,6,267,4],[234,10,267,8],[235,8,268,6],[235,14,268,12],[236,10,268,14,"error"],[237,8,268,20],[237,9,268,21],[237,12,268,24],[237,18,268,30,"supabase"],[237,30,268,38],[237,31,268,38,"supabase"],[237,39,268,38],[237,40,269,9,"from"],[237,44,269,13],[237,45,269,14],[237,61,269,30],[237,62,269,31],[237,63,270,9,"update"],[237,69,270,15],[237,70,270,16],[238,10,271,10,"status"],[238,16,271,16],[238,18,271,18],[238,29,271,29],[239,10,272,10,"ended_at"],[239,18,272,18],[239,20,272,20],[239,24,272,24,"Date"],[239,28,272,28],[239,29,272,29],[239,30,272,30],[239,31,272,31,"toISOString"],[239,42,272,42],[239,43,272,43],[240,8,273,8],[240,9,273,9],[240,10,273,10],[240,11,274,9,"eq"],[240,13,274,11],[240,14,274,12],[240,18,274,16],[240,20,274,18,"matchId"],[240,27,274,25],[240,28,274,26],[241,8,276,6],[241,12,276,10,"error"],[241,17,276,15],[241,19,276,17],[241,25,276,23,"error"],[241,30,276,28],[242,8,278,6],[242,15,278,13],[243,10,278,15,"success"],[243,17,278,22],[243,19,278,24],[244,8,278,29],[244,9,278,30],[245,6,279,4],[245,7,279,5],[245,8,279,6],[245,15,279,13,"error"],[245,20,279,18],[245,22,279,20],[246,8,280,6,"console"],[246,15,280,13],[246,16,280,14,"error"],[246,21,280,19],[246,22,280,20],[246,40,280,38],[246,42,280,40,"error"],[246,47,280,45],[246,48,280,46],[247,8,281,6],[247,15,281,13],[248,10,281,15,"success"],[248,17,281,22],[248,19,281,24],[249,8,281,30],[249,9,281,31],[250,6,282,4],[251,4,283,2],[251,5,283,3],[252,4,285,2],[253,4,286,2],[253,10,286,8,"requestRematch"],[253,24,286,22,"requestRematch"],[253,25,287,4,"previousMatchId"],[253,40,287,27],[253,42,288,4,"requesterId"],[253,53,288,23],[253,55,289,71],[254,6,290,4],[254,10,290,8],[255,8,291,6],[255,14,291,12,"expiresAt"],[255,23,291,21],[255,26,291,24],[255,30,291,28,"Date"],[255,34,291,32],[255,35,291,33,"Date"],[255,39,291,37],[255,40,291,38,"now"],[255,43,291,41],[255,44,291,42],[255,45,291,43],[255,48,291,46],[255,50,291,48],[255,53,291,51],[255,57,291,55],[255,58,291,56],[255,59,291,57],[255,60,291,58],[257,8,293,6],[257,14,293,12],[258,10,293,14,"data"],[258,14,293,18],[259,10,293,20,"error"],[260,8,293,26],[260,9,293,27],[260,12,293,30],[260,18,293,36,"supabase"],[260,30,293,44],[260,31,293,44,"supabase"],[260,39,293,44],[260,40,294,9,"from"],[260,44,294,13],[260,45,294,14],[260,63,294,32],[260,64,294,33],[260,65,295,9,"insert"],[260,71,295,15],[260,72,295,16],[261,10,296,10,"previous_match_id"],[261,27,296,27],[261,29,296,29,"previousMatchId"],[261,44,296,44],[262,10,297,10,"requester_id"],[262,22,297,22],[262,24,297,24,"requesterId"],[262,35,297,35],[263,10,298,10,"status"],[263,16,298,16],[263,18,298,18],[263,27,298,27],[264,10,299,10,"expires_at"],[264,20,299,20],[264,22,299,22,"expiresAt"],[264,31,299,31],[264,32,299,32,"toISOString"],[264,43,299,43],[264,44,299,44],[265,8,300,8],[265,9,300,9],[265,10,300,10],[265,11,301,9,"select"],[265,17,301,15],[265,18,301,16],[265,19,301,17],[265,20,302,9,"single"],[265,26,302,15],[265,27,302,16],[265,28,302,17],[266,8,304,6],[266,12,304,10,"error"],[266,17,304,15],[266,19,304,17],[266,25,304,23,"error"],[266,30,304,28],[267,8,306,6],[267,15,306,13],[268,10,306,15,"success"],[268,17,306,22],[268,19,306,24],[268,23,306,28],[269,10,306,30,"rematchId"],[269,19,306,39],[269,21,306,41,"data"],[269,25,306,45],[269,26,306,46,"id"],[270,8,306,49],[270,9,306,50],[271,6,307,4],[271,7,307,5],[271,8,307,6],[271,15,307,13,"error"],[271,20,307,23],[271,22,307,25],[272,8,308,6,"console"],[272,15,308,13],[272,16,308,14,"error"],[272,21,308,19],[272,22,308,20],[272,46,308,44],[272,48,308,46,"error"],[272,53,308,51],[272,54,308,52],[273,8,309,6],[273,15,309,13],[274,10,309,15,"success"],[274,17,309,22],[274,19,309,24],[274,24,309,29],[275,10,309,31,"error"],[275,15,309,36],[275,17,309,38,"error"],[275,22,309,43],[275,23,309,44,"message"],[276,8,309,52],[276,9,309,53],[277,6,310,4],[278,4,311,2],[278,5,311,3],[279,4,313,2],[280,4,314,2],[280,10,314,8,"respondToRematch"],[280,26,314,24,"respondToRematch"],[280,27,315,4,"rematchRequestId"],[280,43,315,28],[280,45,316,4,"userId"],[280,51,316,18],[280,53,317,4,"accepted"],[280,61,317,21],[280,63,318,35],[281,6,319,4],[281,10,319,8],[282,8,320,6],[282,14,320,12],[283,10,320,14,"error"],[284,8,320,20],[284,9,320,21],[284,12,320,24],[284,18,320,30,"supabase"],[284,30,320,38],[284,31,320,38,"supabase"],[284,39,320,38],[284,40,321,9,"from"],[284,44,321,13],[284,45,321,14],[284,66,321,35],[284,67,321,36],[284,68,322,9,"insert"],[284,74,322,15],[284,75,322,16],[285,10,323,10,"rematch_request_id"],[285,28,323,28],[285,30,323,30,"rematchRequestId"],[285,46,323,46],[286,10,324,10,"user_id"],[286,17,324,17],[286,19,324,19,"userId"],[286,25,324,25],[287,10,325,10,"accepted"],[288,8,326,8],[288,9,326,9],[288,10,326,10],[289,8,328,6],[289,12,328,10,"error"],[289,17,328,15],[289,19,328,17],[289,25,328,23,"error"],[289,30,328,28],[290,8,330,6],[290,15,330,13],[291,10,330,15,"success"],[291,17,330,22],[291,19,330,24],[292,8,330,29],[292,9,330,30],[293,6,331,4],[293,7,331,5],[293,8,331,6],[293,15,331,13,"error"],[293,20,331,18],[293,22,331,20],[294,8,332,6,"console"],[294,15,332,13],[294,16,332,14,"error"],[294,21,332,19],[294,22,332,20],[294,49,332,47],[294,51,332,49,"error"],[294,56,332,54],[294,57,332,55],[295,8,333,6],[295,15,333,13],[296,10,333,15,"success"],[296,17,333,22],[296,19,333,24],[297,8,333,30],[297,9,333,31],[298,6,334,4],[299,4,335,2],[299,5,335,3],[300,4,337,2],[301,4,338,2,"subscribeToQueue"],[301,20,338,18,"subscribeToQueue"],[301,21,339,4,"userId"],[301,27,339,18],[301,29,340,4,"callback"],[301,37,340,48],[301,39,341,4],[302,6,342,4],[302,12,342,10,"channel"],[302,19,342,17],[302,22,342,20,"supabase"],[302,34,342,28],[302,35,342,28,"supabase"],[302,43,342,28],[302,44,343,7,"channel"],[302,51,343,14],[302,52,343,15],[302,61,343,24,"userId"],[302,67,343,30],[302,69,343,32],[302,70,343,33],[302,71,344,7,"on"],[302,73,344,9],[302,74,345,8],[302,92,345,26],[302,94,346,8],[303,8,347,10,"event"],[303,13,347,15],[303,15,347,17],[303,18,347,20],[304,8,348,10,"schema"],[304,14,348,16],[304,16,348,18],[304,24,348,26],[305,8,349,10,"table"],[305,13,349,15],[305,15,349,17],[305,34,349,36],[306,8,350,10,"filter"],[306,14,350,16],[306,16,350,18],[306,30,350,32,"userId"],[306,36,350,38],[307,6,351,8],[307,7,351,9],[307,9,352,9,"payload"],[307,16,352,16],[307,20,352,21],[308,8,353,10,"callback"],[308,16,353,18],[308,17,353,19,"payload"],[308,24,353,26],[308,25,353,27,"new"],[308,28,353,44],[308,29,353,45],[309,6,354,8],[309,7,355,6],[309,8,355,7],[309,9,356,7,"subscribe"],[309,18,356,16],[309,19,356,17],[309,20,356,18],[310,6,358,4],[310,13,358,11],[310,19,358,17],[311,8,359,6,"supabase"],[311,20,359,14],[311,21,359,14,"supabase"],[311,29,359,14],[311,30,359,15,"removeChannel"],[311,43,359,28],[311,44,359,29,"channel"],[311,51,359,36],[311,52,359,37],[312,6,360,4],[312,7,360,5],[313,4,361,2],[313,5,361,3],[314,4,363,2],[315,4,364,2,"subscribeToMatch"],[315,20,364,18,"subscribeToMatch"],[315,21,365,4,"matchId"],[315,28,365,19],[315,30,366,4,"callback"],[315,38,366,42],[315,40,367,4],[316,6,368,4],[316,12,368,10,"channel"],[316,19,368,17],[316,22,368,20,"supabase"],[316,34,368,28],[316,35,368,28,"supabase"],[316,43,368,28],[316,44,369,7,"channel"],[316,51,369,14],[316,52,369,15],[316,61,369,24,"matchId"],[316,68,369,31],[316,70,369,33],[316,71,369,34],[316,72,370,7,"on"],[316,74,370,9],[316,75,371,8],[316,93,371,26],[316,95,372,8],[317,8,373,10,"event"],[317,13,373,15],[317,15,373,17],[317,18,373,20],[318,8,374,10,"schema"],[318,14,374,16],[318,16,374,18],[318,24,374,26],[319,8,375,10,"table"],[319,13,375,15],[319,15,375,17],[319,31,375,33],[320,8,376,10,"filter"],[320,14,376,16],[320,16,376,18],[320,25,376,27,"matchId"],[320,32,376,34],[321,6,377,8],[321,7,377,9],[321,9,378,9,"payload"],[321,16,378,16],[321,20,378,21],[322,8,379,10,"callback"],[322,16,379,18],[322,17,379,19,"payload"],[322,24,379,26],[322,25,379,27,"new"],[322,28,379,45],[322,29,379,46],[323,6,380,8],[323,7,381,6],[323,8,381,7],[323,9,382,7,"subscribe"],[323,18,382,16],[323,19,382,17],[323,20,382,18],[324,6,384,4],[324,13,384,11],[324,19,384,17],[325,8,385,6,"supabase"],[325,20,385,14],[325,21,385,14,"supabase"],[325,29,385,14],[325,30,385,15,"removeChannel"],[325,43,385,28],[325,44,385,29,"channel"],[325,51,385,36],[325,52,385,37],[326,6,386,4],[326,7,386,5],[327,4,387,2],[328,2,388,0],[328,3,388,1],[329,0,388,2],[329,3]],"functionMap":{"names":["<global>","joinQueue","leaveQueue","getQueueStatus","getEstimatedWaitTime","createMatch","participantIds.map$argument_0","getMatch","getMatchParticipants","markReady","startMatch","endMatch","requestRematch","respondToRematch","subscribeToQueue","supabase.channel.on$argument_2","<anonymous>","subscribeToMatch"],"mappings":"AAA;EC6C;GDmC;EEG;GFe;EGG;GHe;EIG;GJc;EKG;8CCsB;QDK;GLyB;EOG;GPc;EQG;GRa;ESG;GTkB;EUG;GViB;EWG;GXiB;EYG;GZyB;EaG;GbqB;EcG;QCc;SDE;WEI;KFE;GdC;EiBG;QFc;SEE;WDI;KCE;GjBC"},"hasCjsExports":false},"type":"js/module"}]}