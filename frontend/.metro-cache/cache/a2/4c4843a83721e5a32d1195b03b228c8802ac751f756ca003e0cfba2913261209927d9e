{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/wrapNativeSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"imgnTtXT+OlBfDxpawXO7znTT9E=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":315},"end":{"line":6,"column":38,"index":335}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var _classCallCheck = require(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _callSuper = require(_dependencyMap[3], \"@babel/runtime/helpers/callSuper\").default;\n  var _inherits = require(_dependencyMap[4], \"@babel/runtime/helpers/inherits\").default;\n  var _wrapNativeSuper = require(_dependencyMap[5], \"@babel/runtime/helpers/wrapNativeSuper\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ProcessLockAcquireTimeoutError = exports.NavigatorLockAcquireTimeoutError = exports.LockAcquireTimeoutError = exports.internals = void 0;\n  exports.navigatorLock = navigatorLock;\n  exports.processLock = processLock;\n  var helpers_1 = require(_dependencyMap[6], \"./helpers\");\n  /**\n   * @experimental\n   */\n  exports.internals = {\n    /**\n     * @experimental\n     */\n    debug: !!(globalThis && (0, helpers_1.supportsLocalStorage)() && globalThis.localStorage && globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug') === 'true')\n  };\n  /**\n   * An error thrown when a lock cannot be acquired after some amount of time.\n   *\n   * Use the {@link #isAcquireTimeout} property instead of checking with `instanceof`.\n   *\n   * @example\n   * ```ts\n   * import { LockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * class CustomLockError extends LockAcquireTimeoutError {\n   *   constructor() {\n   *     super('Lock timed out')\n   *   }\n   * }\n   * ```\n   */\n  var LockAcquireTimeoutError = /*#__PURE__*/function (_Error) {\n    function LockAcquireTimeoutError(message) {\n      var _this;\n      _classCallCheck(this, LockAcquireTimeoutError);\n      _this = _callSuper(this, LockAcquireTimeoutError, [message]);\n      _this.isAcquireTimeout = true;\n      return _this;\n    }\n    _inherits(LockAcquireTimeoutError, _Error);\n    return _createClass(LockAcquireTimeoutError);\n  }(/*#__PURE__*/_wrapNativeSuper(Error));\n  exports.LockAcquireTimeoutError = LockAcquireTimeoutError;\n  /**\n   * Error thrown when the browser Navigator Lock API fails to acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { NavigatorLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new NavigatorLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  var NavigatorLockAcquireTimeoutError = /*#__PURE__*/function (_LockAcquireTimeoutEr) {\n    function NavigatorLockAcquireTimeoutError() {\n      _classCallCheck(this, NavigatorLockAcquireTimeoutError);\n      return _callSuper(this, NavigatorLockAcquireTimeoutError, arguments);\n    }\n    _inherits(NavigatorLockAcquireTimeoutError, _LockAcquireTimeoutEr);\n    return _createClass(NavigatorLockAcquireTimeoutError);\n  }(LockAcquireTimeoutError);\n  exports.NavigatorLockAcquireTimeoutError = NavigatorLockAcquireTimeoutError;\n  /**\n   * Error thrown when the process-level lock helper cannot acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { ProcessLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new ProcessLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  var ProcessLockAcquireTimeoutError = /*#__PURE__*/function (_LockAcquireTimeoutEr2) {\n    function ProcessLockAcquireTimeoutError() {\n      _classCallCheck(this, ProcessLockAcquireTimeoutError);\n      return _callSuper(this, ProcessLockAcquireTimeoutError, arguments);\n    }\n    _inherits(ProcessLockAcquireTimeoutError, _LockAcquireTimeoutEr2);\n    return _createClass(ProcessLockAcquireTimeoutError);\n  }(LockAcquireTimeoutError);\n  exports.ProcessLockAcquireTimeoutError = ProcessLockAcquireTimeoutError;\n  /**\n   * Implements a global exclusive lock using the Navigator LockManager API. It\n   * is available on all browsers released after 2022-03-15 with Safari being the\n   * last one to release support. If the API is not available, this function will\n   * throw. Make sure you check availablility before configuring {@link\n   * GoTrueClient}.\n   *\n   * You can turn on debugging by setting the `supabase.gotrue-js.locks.debug`\n   * local storage item to `true`.\n   *\n   * Internals:\n   *\n   * Since the LockManager API does not preserve stack traces for the async\n   * function passed in the `request` method, a trick is used where acquiring the\n   * lock releases a previously started promise to run the operation in the `fn`\n   * function. The lock waits for that promise to finish (with or without error),\n   * while the function will finally wait for the result anyway.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await navigatorLock('sync-user', 1000, async () => {\n   *   await refreshSession()\n   * })\n   * ```\n   */\n  function navigatorLock(_x, _x2, _x3) {\n    return _navigatorLock.apply(this, arguments);\n  }\n  function _navigatorLock() {\n    _navigatorLock = _asyncToGenerator(function* (name, acquireTimeout, fn) {\n      if (exports.internals.debug) {\n        console.log('@supabase/gotrue-js: navigatorLock: acquire lock', name, acquireTimeout);\n      }\n      var abortController = new globalThis.AbortController();\n      if (acquireTimeout > 0) {\n        setTimeout(function () {\n          abortController.abort();\n          if (exports.internals.debug) {\n            console.log('@supabase/gotrue-js: navigatorLock acquire timed out', name);\n          }\n        }, acquireTimeout);\n      }\n      // MDN article: https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request\n      // Wrapping navigator.locks.request() with a plain Promise is done as some\n      // libraries like zone.js patch the Promise object to track the execution\n      // context. However, it appears that most browsers use an internal promise\n      // implementation when using the navigator.locks.request() API causing them\n      // to lose context and emit confusing log messages or break certain features.\n      // This wrapping is believed to help zone.js track the execution context\n      // better.\n      return yield Promise.resolve().then(function () {\n        return globalThis.navigator.locks.request(name, acquireTimeout === 0 ? {\n          mode: 'exclusive',\n          ifAvailable: true\n        } : {\n          mode: 'exclusive',\n          signal: abortController.signal\n        }, /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (lock) {\n            if (lock) {\n              if (exports.internals.debug) {\n                console.log('@supabase/gotrue-js: navigatorLock: acquired', name, lock.name);\n              }\n              try {\n                return yield fn();\n              } finally {\n                if (exports.internals.debug) {\n                  console.log('@supabase/gotrue-js: navigatorLock: released', name, lock.name);\n                }\n              }\n            } else {\n              if (acquireTimeout === 0) {\n                if (exports.internals.debug) {\n                  console.log('@supabase/gotrue-js: navigatorLock: not immediately available', name);\n                }\n                throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" immediately failed`);\n              } else {\n                if (exports.internals.debug) {\n                  try {\n                    var result = yield globalThis.navigator.locks.query();\n                    console.log('@supabase/gotrue-js: Navigator LockManager state', JSON.stringify(result, null, '  '));\n                  } catch (e) {\n                    console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state', e);\n                  }\n                }\n                // Browser is not following the Navigator LockManager spec, it\n                // returned a null lock when we didn't use ifAvailable. So we can\n                // pretend the lock is acquired in the name of backward compatibility\n                // and user experience and just run the function.\n                console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request');\n                return yield fn();\n              }\n            }\n          });\n          return function (_x7) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      });\n    });\n    return _navigatorLock.apply(this, arguments);\n  }\n  var PROCESS_LOCKS = {};\n  /**\n   * Implements a global exclusive lock that works only in the current process.\n   * Useful for environments like React Native or other non-browser\n   * single-process (i.e. no concept of \"tabs\") environments.\n   *\n   * Use {@link #navigatorLock} in browser environments.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await processLock('migrate', 5000, async () => {\n   *   await runMigration()\n   * })\n   * ```\n   */\n  function processLock(_x4, _x5, _x6) {\n    return _processLock.apply(this, arguments);\n  }\n  function _processLock() {\n    _processLock = _asyncToGenerator(function* (name, acquireTimeout, fn) {\n      var _a;\n      var previousOperation = (_a = PROCESS_LOCKS[name]) !== null && _a !== void 0 ? _a : Promise.resolve();\n      var currentOperation = Promise.race([previousOperation.catch(function () {\n        // ignore error of previous operation that we're waiting to finish\n        return null;\n      }), acquireTimeout >= 0 ? new Promise(function (_, reject) {\n        setTimeout(function () {\n          reject(new ProcessLockAcquireTimeoutError(`Acquiring process lock with name \"${name}\" timed out`));\n        }, acquireTimeout);\n      }) : null].filter(function (x) {\n        return x;\n      })).catch(function (e) {\n        if (e && e.isAcquireTimeout) {\n          throw e;\n        }\n        return null;\n      }).then(/*#__PURE__*/_asyncToGenerator(function* () {\n        // previous operations finished and we didn't get a race on the acquire\n        // timeout, so the current operation can finally start\n        return yield fn();\n      }));\n      PROCESS_LOCKS[name] = currentOperation.catch(/*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator(function* (e) {\n          if (e && e.isAcquireTimeout) {\n            // if the current operation timed out, it doesn't mean that the previous\n            // operation finished, so we need contnue waiting for it to finish\n            yield previousOperation;\n            return null;\n          }\n          throw e;\n        });\n        return function (_x8) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n      // finally wait for the current operation to finish successfully, with an\n      // error or with an acquire timeout error\n      return yield currentOperation;\n    });\n    return _processLock.apply(this, arguments);\n  }\n});","lineCount":267,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[4,96,1,13,"default"],[4,103,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,1,13],[6,6,1,13,"_classCallCheck"],[6,21,1,13],[6,24,1,13,"require"],[6,31,1,13],[6,32,1,13,"_dependencyMap"],[6,46,1,13],[6,92,1,13,"default"],[6,99,1,13],[7,2,1,13],[7,6,1,13,"_callSuper"],[7,16,1,13],[7,19,1,13,"require"],[7,26,1,13],[7,27,1,13,"_dependencyMap"],[7,41,1,13],[7,82,1,13,"default"],[7,89,1,13],[8,2,1,13],[8,6,1,13,"_inherits"],[8,15,1,13],[8,18,1,13,"require"],[8,25,1,13],[8,26,1,13,"_dependencyMap"],[8,40,1,13],[8,80,1,13,"default"],[8,87,1,13],[9,2,1,13],[9,6,1,13,"_wrapNativeSuper"],[9,22,1,13],[9,25,1,13,"require"],[9,32,1,13],[9,33,1,13,"_dependencyMap"],[9,47,1,13],[9,94,1,13,"default"],[9,101,1,13],[10,2,2,0,"Object"],[10,8,2,6],[10,9,2,7,"defineProperty"],[10,23,2,21],[10,24,2,22,"exports"],[10,31,2,29],[10,33,2,31],[10,45,2,43],[10,47,2,45],[11,4,2,47,"value"],[11,9,2,52],[11,11,2,54],[12,2,2,59],[12,3,2,60],[12,4,2,61],[13,2,3,0,"exports"],[13,9,3,7],[13,10,3,8,"ProcessLockAcquireTimeoutError"],[13,40,3,38],[13,43,3,41,"exports"],[13,50,3,48],[13,51,3,49,"NavigatorLockAcquireTimeoutError"],[13,83,3,81],[13,86,3,84,"exports"],[13,93,3,91],[13,94,3,92,"LockAcquireTimeoutError"],[13,117,3,115],[13,120,3,118,"exports"],[13,127,3,125],[13,128,3,126,"internals"],[13,137,3,135],[13,140,3,138],[13,145,3,143],[13,146,3,144],[14,2,4,0,"exports"],[14,9,4,7],[14,10,4,8,"navigatorLock"],[14,23,4,21],[14,26,4,24,"navigatorLock"],[14,39,4,37],[15,2,5,0,"exports"],[15,9,5,7],[15,10,5,8,"processLock"],[15,21,5,19],[15,24,5,22,"processLock"],[15,35,5,33],[16,2,6,0],[16,6,6,6,"helpers_1"],[16,15,6,15],[16,18,6,18,"require"],[16,25,6,25],[16,26,6,25,"_dependencyMap"],[16,40,6,25],[16,56,6,37],[16,57,6,38],[17,2,7,0],[18,0,8,0],[19,0,9,0],[20,2,10,0,"exports"],[20,9,10,7],[20,10,10,8,"internals"],[20,19,10,17],[20,22,10,20],[21,4,11,4],[22,0,12,0],[23,0,13,0],[24,4,14,4,"debug"],[24,9,14,9],[24,11,14,11],[24,12,14,12],[24,14,14,14,"globalThis"],[24,24,14,24],[24,28,15,8],[24,29,15,9],[24,30,15,10],[24,32,15,12,"helpers_1"],[24,41,15,21],[24,42,15,22,"supportsLocalStorage"],[24,62,15,42],[24,64,15,44],[24,65,15,45],[24,69,16,8,"globalThis"],[24,79,16,18],[24,80,16,19,"localStorage"],[24,92,16,31],[24,96,17,8,"globalThis"],[24,106,17,18],[24,107,17,19,"localStorage"],[24,119,17,31],[24,120,17,32,"getItem"],[24,127,17,39],[24,128,17,40],[24,160,17,72],[24,161,17,73],[24,166,17,78],[24,172,17,84],[25,2,18,0],[25,3,18,1],[26,2,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,2,19,0],[42,6,35,6,"LockAcquireTimeoutError"],[42,29,35,29],[42,55,35,29,"_Error"],[42,61,35,29],[43,4,36,4],[43,13,36,4,"LockAcquireTimeoutError"],[43,37,36,16,"message"],[43,44,36,23],[43,46,36,25],[44,6,36,25],[44,10,36,25,"_this"],[44,15,36,25],[45,6,36,25,"_classCallCheck"],[45,21,36,25],[45,28,36,25,"LockAcquireTimeoutError"],[45,51,36,25],[46,6,37,8,"_this"],[46,11,37,8],[46,14,37,8,"_callSuper"],[46,24,37,8],[46,31,37,8,"LockAcquireTimeoutError"],[46,54,37,8],[46,57,37,14,"message"],[46,64,37,21],[47,6,38,8,"_this"],[47,11,38,8],[47,12,38,13,"isAcquireTimeout"],[47,28,38,29],[47,31,38,32],[47,35,38,36],[48,6,38,37],[48,13,38,37,"_this"],[48,18,38,37],[49,4,39,4],[50,4,39,5,"_inherits"],[50,13,39,5],[50,14,39,5,"LockAcquireTimeoutError"],[50,37,39,5],[50,39,39,5,"_Error"],[50,45,39,5],[51,4,39,5],[51,11,39,5,"_createClass"],[51,23,39,5],[51,24,39,5,"LockAcquireTimeoutError"],[51,47,39,5],[52,2,39,5],[52,17,39,5,"_wrapNativeSuper"],[52,33,39,5],[52,34,35,38,"Error"],[52,39,35,43],[53,2,41,0,"exports"],[53,9,41,7],[53,10,41,8,"LockAcquireTimeoutError"],[53,33,41,31],[53,36,41,34,"LockAcquireTimeoutError"],[53,59,41,57],[54,2,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,2,42,0],[64,6,52,6,"NavigatorLockAcquireTimeoutError"],[64,38,52,38],[64,64,52,38,"_LockAcquireTimeoutEr"],[64,85,52,38],[65,4,52,38],[65,13,52,38,"NavigatorLockAcquireTimeoutError"],[65,46,52,38],[66,6,52,38,"_classCallCheck"],[66,21,52,38],[66,28,52,38,"NavigatorLockAcquireTimeoutError"],[66,60,52,38],[67,6,52,38],[67,13,52,38,"_callSuper"],[67,23,52,38],[67,30,52,38,"NavigatorLockAcquireTimeoutError"],[67,62,52,38],[67,64,52,38,"arguments"],[67,73,52,38],[68,4,52,38],[69,4,52,38,"_inherits"],[69,13,52,38],[69,14,52,38,"NavigatorLockAcquireTimeoutError"],[69,46,52,38],[69,48,52,38,"_LockAcquireTimeoutEr"],[69,69,52,38],[70,4,52,38],[70,11,52,38,"_createClass"],[70,23,52,38],[70,24,52,38,"NavigatorLockAcquireTimeoutError"],[70,56,52,38],[71,2,52,38],[71,4,52,47,"LockAcquireTimeoutError"],[71,27,52,70],[72,2,54,0,"exports"],[72,9,54,7],[72,10,54,8,"NavigatorLockAcquireTimeoutError"],[72,42,54,40],[72,45,54,43,"NavigatorLockAcquireTimeoutError"],[72,77,54,75],[73,2,55,0],[74,0,56,0],[75,0,57,0],[76,0,58,0],[77,0,59,0],[78,0,60,0],[79,0,61,0],[80,0,62,0],[81,0,63,0],[82,0,64,0],[83,2,55,0],[83,6,65,6,"ProcessLockAcquireTimeoutError"],[83,36,65,36],[83,62,65,36,"_LockAcquireTimeoutEr2"],[83,84,65,36],[84,4,65,36],[84,13,65,36,"ProcessLockAcquireTimeoutError"],[84,44,65,36],[85,6,65,36,"_classCallCheck"],[85,21,65,36],[85,28,65,36,"ProcessLockAcquireTimeoutError"],[85,58,65,36],[86,6,65,36],[86,13,65,36,"_callSuper"],[86,23,65,36],[86,30,65,36,"ProcessLockAcquireTimeoutError"],[86,60,65,36],[86,62,65,36,"arguments"],[86,71,65,36],[87,4,65,36],[88,4,65,36,"_inherits"],[88,13,65,36],[88,14,65,36,"ProcessLockAcquireTimeoutError"],[88,44,65,36],[88,46,65,36,"_LockAcquireTimeoutEr2"],[88,68,65,36],[89,4,65,36],[89,11,65,36,"_createClass"],[89,23,65,36],[89,24,65,36,"ProcessLockAcquireTimeoutError"],[89,54,65,36],[90,2,65,36],[90,4,65,45,"LockAcquireTimeoutError"],[90,27,65,68],[91,2,67,0,"exports"],[91,9,67,7],[91,10,67,8,"ProcessLockAcquireTimeoutError"],[91,40,67,38],[91,43,67,41,"ProcessLockAcquireTimeoutError"],[91,73,67,71],[92,2,68,0],[93,0,69,0],[94,0,70,0],[95,0,71,0],[96,0,72,0],[97,0,73,0],[98,0,74,0],[99,0,75,0],[100,0,76,0],[101,0,77,0],[102,0,78,0],[103,0,79,0],[104,0,80,0],[105,0,81,0],[106,0,82,0],[107,0,83,0],[108,0,84,0],[109,0,85,0],[110,0,86,0],[111,0,87,0],[112,0,88,0],[113,0,89,0],[114,0,90,0],[115,0,91,0],[116,0,92,0],[117,0,93,0],[118,0,94,0],[119,0,95,0],[120,0,96,0],[121,0,97,0],[122,0,98,0],[123,2,68,0],[123,11,99,15,"navigatorLock"],[123,24,99,28,"navigatorLock"],[123,25,99,28,"_x"],[123,27,99,28],[123,29,99,28,"_x2"],[123,32,99,28],[123,34,99,28,"_x3"],[123,37,99,28],[124,4,99,28],[124,11,99,28,"_navigatorLock"],[124,25,99,28],[124,26,99,28,"apply"],[124,31,99,28],[124,38,99,28,"arguments"],[124,47,99,28],[125,2,99,28],[126,2,99,28],[126,11,99,28,"_navigatorLock"],[126,26,99,28],[127,4,99,28,"_navigatorLock"],[127,18,99,28],[127,21,99,28,"_asyncToGenerator"],[127,38,99,28],[127,39,99,0],[127,50,99,29,"name"],[127,54,99,33],[127,56,99,35,"acquireTimeout"],[127,70,99,49],[127,72,99,51,"fn"],[127,74,99,53],[127,76,99,55],[128,6,100,4],[128,10,100,8,"exports"],[128,17,100,15],[128,18,100,16,"internals"],[128,27,100,25],[128,28,100,26,"debug"],[128,33,100,31],[128,35,100,33],[129,8,101,8,"console"],[129,15,101,15],[129,16,101,16,"log"],[129,19,101,19],[129,20,101,20],[129,70,101,70],[129,72,101,72,"name"],[129,76,101,76],[129,78,101,78,"acquireTimeout"],[129,92,101,92],[129,93,101,93],[130,6,102,4],[131,6,103,4],[131,10,103,10,"abortController"],[131,25,103,25],[131,28,103,28],[131,32,103,32,"globalThis"],[131,42,103,42],[131,43,103,43,"AbortController"],[131,58,103,58],[131,59,103,59],[131,60,103,60],[132,6,104,4],[132,10,104,8,"acquireTimeout"],[132,24,104,22],[132,27,104,25],[132,28,104,26],[132,30,104,28],[133,8,105,8,"setTimeout"],[133,18,105,18],[133,19,105,19],[133,31,105,25],[134,10,106,12,"abortController"],[134,25,106,27],[134,26,106,28,"abort"],[134,31,106,33],[134,32,106,34],[134,33,106,35],[135,10,107,12],[135,14,107,16,"exports"],[135,21,107,23],[135,22,107,24,"internals"],[135,31,107,33],[135,32,107,34,"debug"],[135,37,107,39],[135,39,107,41],[136,12,108,16,"console"],[136,19,108,23],[136,20,108,24,"log"],[136,23,108,27],[136,24,108,28],[136,78,108,82],[136,80,108,84,"name"],[136,84,108,88],[136,85,108,89],[137,10,109,12],[138,8,110,8],[138,9,110,9],[138,11,110,11,"acquireTimeout"],[138,25,110,25],[138,26,110,26],[139,6,111,4],[140,6,112,4],[141,6,113,4],[142,6,114,4],[143,6,115,4],[144,6,116,4],[145,6,117,4],[146,6,118,4],[147,6,119,4],[148,6,120,4],[148,19,120,17,"Promise"],[148,26,120,24],[148,27,120,25,"resolve"],[148,34,120,32],[148,35,120,33],[148,36,120,34],[148,37,120,35,"then"],[148,41,120,39],[148,42,120,40],[149,8,120,40],[149,15,120,46,"globalThis"],[149,25,120,56],[149,26,120,57,"navigator"],[149,35,120,66],[149,36,120,67,"locks"],[149,41,120,72],[149,42,120,73,"request"],[149,49,120,80],[149,50,120,81,"name"],[149,54,120,85],[149,56,120,87,"acquireTimeout"],[149,70,120,101],[149,75,120,106],[149,76,120,107],[149,79,121,10],[150,10,122,12,"mode"],[150,14,122,16],[150,16,122,18],[150,27,122,29],[151,10,123,12,"ifAvailable"],[151,21,123,23],[151,23,123,25],[152,8,124,8],[152,9,124,9],[152,12,125,10],[153,10,126,12,"mode"],[153,14,126,16],[153,16,126,18],[153,27,126,29],[154,10,127,12,"signal"],[154,16,127,18],[154,18,127,20,"abortController"],[154,33,127,35],[154,34,127,36,"signal"],[155,8,128,8],[155,9,128,9],[156,10,128,9],[156,14,128,9,"_ref"],[156,18,128,9],[156,21,128,9,"_asyncToGenerator"],[156,38,128,9],[156,39,128,11],[156,50,128,18,"lock"],[156,54,128,22],[156,56,128,27],[157,12,129,8],[157,16,129,12,"lock"],[157,20,129,16],[157,22,129,18],[158,14,130,12],[158,18,130,16,"exports"],[158,25,130,23],[158,26,130,24,"internals"],[158,35,130,33],[158,36,130,34,"debug"],[158,41,130,39],[158,43,130,41],[159,16,131,16,"console"],[159,23,131,23],[159,24,131,24,"log"],[159,27,131,27],[159,28,131,28],[159,74,131,74],[159,76,131,76,"name"],[159,80,131,80],[159,82,131,82,"lock"],[159,86,131,86],[159,87,131,87,"name"],[159,91,131,91],[159,92,131,92],[160,14,132,12],[161,14,133,12],[161,18,133,16],[162,16,134,16],[162,29,134,29,"fn"],[162,31,134,31],[162,32,134,32],[162,33,134,33],[163,14,135,12],[163,15,135,13],[163,24,136,20],[164,16,137,16],[164,20,137,20,"exports"],[164,27,137,27],[164,28,137,28,"internals"],[164,37,137,37],[164,38,137,38,"debug"],[164,43,137,43],[164,45,137,45],[165,18,138,20,"console"],[165,25,138,27],[165,26,138,28,"log"],[165,29,138,31],[165,30,138,32],[165,76,138,78],[165,78,138,80,"name"],[165,82,138,84],[165,84,138,86,"lock"],[165,88,138,90],[165,89,138,91,"name"],[165,93,138,95],[165,94,138,96],[166,16,139,16],[167,14,140,12],[168,12,141,8],[168,13,141,9],[168,19,142,13],[169,14,143,12],[169,18,143,16,"acquireTimeout"],[169,32,143,30],[169,37,143,35],[169,38,143,36],[169,40,143,38],[170,16,144,16],[170,20,144,20,"exports"],[170,27,144,27],[170,28,144,28,"internals"],[170,37,144,37],[170,38,144,38,"debug"],[170,43,144,43],[170,45,144,45],[171,18,145,20,"console"],[171,25,145,27],[171,26,145,28,"log"],[171,29,145,31],[171,30,145,32],[171,93,145,95],[171,95,145,97,"name"],[171,99,145,101],[171,100,145,102],[172,16,146,16],[173,16,147,16],[173,22,147,22],[173,26,147,26,"NavigatorLockAcquireTimeoutError"],[173,58,147,58],[173,59,147,59],[173,113,147,113,"name"],[173,117,147,117],[173,139,147,139],[173,140,147,140],[174,14,148,12],[174,15,148,13],[174,21,149,17],[175,16,150,16],[175,20,150,20,"exports"],[175,27,150,27],[175,28,150,28,"internals"],[175,37,150,37],[175,38,150,38,"debug"],[175,43,150,43],[175,45,150,45],[176,18,151,20],[176,22,151,24],[177,20,152,24],[177,24,152,30,"result"],[177,30,152,36],[177,39,152,45,"globalThis"],[177,49,152,55],[177,50,152,56,"navigator"],[177,59,152,65],[177,60,152,66,"locks"],[177,65,152,71],[177,66,152,72,"query"],[177,71,152,77],[177,72,152,78],[177,73,152,79],[178,20,153,24,"console"],[178,27,153,31],[178,28,153,32,"log"],[178,31,153,35],[178,32,153,36],[178,82,153,86],[178,84,153,88,"JSON"],[178,88,153,92],[178,89,153,93,"stringify"],[178,98,153,102],[178,99,153,103,"result"],[178,105,153,109],[178,107,153,111],[178,111,153,115],[178,113,153,117],[178,117,153,121],[178,118,153,122],[178,119,153,123],[179,18,154,20],[179,19,154,21],[179,20,155,20],[179,27,155,27,"e"],[179,28,155,28],[179,30,155,30],[180,20,156,24,"console"],[180,27,156,31],[180,28,156,32,"warn"],[180,32,156,36],[180,33,156,37],[180,103,156,107],[180,105,156,109,"e"],[180,106,156,110],[180,107,156,111],[181,18,157,20],[182,16,158,16],[183,16,159,16],[184,16,160,16],[185,16,161,16],[186,16,162,16],[187,16,163,16,"console"],[187,23,163,23],[187,24,163,24,"warn"],[187,28,163,28],[187,29,163,29],[187,278,163,278],[187,279,163,279],[188,16,164,16],[188,29,164,29,"fn"],[188,31,164,31],[188,32,164,32],[188,33,164,33],[189,14,165,12],[190,12,166,8],[191,10,167,4],[191,11,167,5],[192,10,167,5],[192,27,167,5,"_x7"],[192,30,167,5],[193,12,167,5],[193,19,167,5,"_ref"],[193,23,167,5],[193,24,167,5,"apply"],[193,29,167,5],[193,36,167,5,"arguments"],[193,45,167,5],[194,10,167,5],[195,8,167,5],[195,12,167,6],[196,6,167,6],[196,8,167,7],[197,4,168,0],[197,5,168,1],[198,4,168,1],[198,11,168,1,"_navigatorLock"],[198,25,168,1],[198,26,168,1,"apply"],[198,31,168,1],[198,38,168,1,"arguments"],[198,47,168,1],[199,2,168,1],[200,2,169,0],[200,6,169,6,"PROCESS_LOCKS"],[200,19,169,19],[200,22,169,22],[200,23,169,23],[200,24,169,24],[201,2,170,0],[202,0,171,0],[203,0,172,0],[204,0,173,0],[205,0,174,0],[206,0,175,0],[207,0,176,0],[208,0,177,0],[209,0,178,0],[210,0,179,0],[211,0,180,0],[212,0,181,0],[213,0,182,0],[214,0,183,0],[215,0,184,0],[216,0,185,0],[217,0,186,0],[218,0,187,0],[219,0,188,0],[220,0,189,0],[221,2,170,0],[221,11,190,15,"processLock"],[221,22,190,26,"processLock"],[221,23,190,26,"_x4"],[221,26,190,26],[221,28,190,26,"_x5"],[221,31,190,26],[221,33,190,26,"_x6"],[221,36,190,26],[222,4,190,26],[222,11,190,26,"_processLock"],[222,23,190,26],[222,24,190,26,"apply"],[222,29,190,26],[222,36,190,26,"arguments"],[222,45,190,26],[223,2,190,26],[224,2,190,26],[224,11,190,26,"_processLock"],[224,24,190,26],[225,4,190,26,"_processLock"],[225,16,190,26],[225,19,190,26,"_asyncToGenerator"],[225,36,190,26],[225,37,190,0],[225,48,190,27,"name"],[225,52,190,31],[225,54,190,33,"acquireTimeout"],[225,68,190,47],[225,70,190,49,"fn"],[225,72,190,51],[225,74,190,53],[226,6,191,4],[226,10,191,8,"_a"],[226,12,191,10],[227,6,192,4],[227,10,192,10,"previousOperation"],[227,27,192,27],[227,30,192,30],[227,31,192,31,"_a"],[227,33,192,33],[227,36,192,36,"PROCESS_LOCKS"],[227,49,192,49],[227,50,192,50,"name"],[227,54,192,54],[227,55,192,55],[227,61,192,61],[227,65,192,65],[227,69,192,69,"_a"],[227,71,192,71],[227,76,192,76],[227,81,192,81],[227,82,192,82],[227,85,192,85,"_a"],[227,87,192,87],[227,90,192,90,"Promise"],[227,97,192,97],[227,98,192,98,"resolve"],[227,105,192,105],[227,106,192,106],[227,107,192,107],[228,6,193,4],[228,10,193,10,"currentOperation"],[228,26,193,26],[228,29,193,29,"Promise"],[228,36,193,36],[228,37,193,37,"race"],[228,41,193,41],[228,42,193,42],[228,43,194,8,"previousOperation"],[228,60,194,25],[228,61,194,26,"catch"],[228,66,194,31],[228,67,194,32],[228,79,194,38],[229,8,195,12],[230,8,196,12],[230,15,196,19],[230,19,196,23],[231,6,197,8],[231,7,197,9],[231,8,197,10],[231,10,198,8,"acquireTimeout"],[231,24,198,22],[231,28,198,26],[231,29,198,27],[231,32,199,14],[231,36,199,18,"Promise"],[231,43,199,25],[231,44,199,26],[231,54,199,27,"_"],[231,55,199,28],[231,57,199,30,"reject"],[231,63,199,36],[231,65,199,41],[232,8,200,16,"setTimeout"],[232,18,200,26],[232,19,200,27],[232,31,200,33],[233,10,201,20,"reject"],[233,16,201,26],[233,17,201,27],[233,21,201,31,"ProcessLockAcquireTimeoutError"],[233,51,201,61],[233,52,201,62],[233,89,201,99,"name"],[233,93,201,103],[233,106,201,116],[233,107,201,117],[233,108,201,118],[234,8,202,16],[234,9,202,17],[234,11,202,19,"acquireTimeout"],[234,25,202,33],[234,26,202,34],[235,6,203,12],[235,7,203,13],[235,8,203,14],[235,11,204,14],[235,15,204,18],[235,16,205,5],[235,17,205,6,"filter"],[235,23,205,12],[235,24,205,13],[235,34,205,14,"x"],[235,35,205,15],[236,8,205,15],[236,15,205,20,"x"],[236,16,205,21],[237,6,205,21],[237,8,205,22],[237,9,205,23],[237,10,206,9,"catch"],[237,15,206,14],[237,16,206,15],[237,26,206,16,"e"],[237,27,206,17],[237,29,206,22],[238,8,207,8],[238,12,207,12,"e"],[238,13,207,13],[238,17,207,17,"e"],[238,18,207,18],[238,19,207,19,"isAcquireTimeout"],[238,35,207,35],[238,37,207,37],[239,10,208,12],[239,16,208,18,"e"],[239,17,208,19],[240,8,209,8],[241,8,210,8],[241,15,210,15],[241,19,210,19],[242,6,211,4],[242,7,211,5],[242,8,211,6],[242,9,212,9,"then"],[242,13,212,13],[242,27,212,13,"_asyncToGenerator"],[242,44,212,13],[242,45,212,14],[242,58,212,26],[243,8,213,8],[244,8,214,8],[245,8,215,8],[245,21,215,21,"fn"],[245,23,215,23],[245,24,215,24],[245,25,215,25],[246,6,216,4],[246,7,216,5],[246,9,216,6],[247,6,217,4,"PROCESS_LOCKS"],[247,19,217,17],[247,20,217,18,"name"],[247,24,217,22],[247,25,217,23],[247,28,217,26,"currentOperation"],[247,44,217,42],[247,45,217,43,"catch"],[247,50,217,48],[248,8,217,48],[248,12,217,48,"_ref3"],[248,17,217,48],[248,20,217,48,"_asyncToGenerator"],[248,37,217,48],[248,38,217,49],[248,49,217,56,"e"],[248,50,217,57],[248,52,217,62],[249,10,218,8],[249,14,218,12,"e"],[249,15,218,13],[249,19,218,17,"e"],[249,20,218,18],[249,21,218,19,"isAcquireTimeout"],[249,37,218,35],[249,39,218,37],[250,12,219,12],[251,12,220,12],[252,12,221,12],[252,18,221,18,"previousOperation"],[252,35,221,35],[253,12,222,12],[253,19,222,19],[253,23,222,23],[254,10,223,8],[255,10,224,8],[255,16,224,14,"e"],[255,17,224,15],[256,8,225,4],[256,9,225,5],[257,8,225,5],[257,25,225,5,"_x8"],[257,28,225,5],[258,10,225,5],[258,17,225,5,"_ref3"],[258,22,225,5],[258,23,225,5,"apply"],[258,28,225,5],[258,35,225,5,"arguments"],[258,44,225,5],[259,8,225,5],[260,6,225,5],[260,10,225,6],[261,6,226,4],[262,6,227,4],[263,6,228,4],[263,19,228,17,"currentOperation"],[263,35,228,33],[264,4,229,0],[264,5,229,1],[265,4,229,1],[265,11,229,1,"_processLock"],[265,23,229,1],[265,24,229,1,"apply"],[265,29,229,1],[265,36,229,1,"arguments"],[265,45,229,1],[266,2,229,1],[267,0,229,1],[267,3]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","Promise.resolve.then$argument_0","globalThis.navigator.locks.request$argument_2","processLock","previousOperation._catch$argument_0","Promise$argument_0","filter$argument_0","Promise.race._catch$argument_0","Promise.race._catch.then$argument_0","currentOperation._catch$argument_0"],"mappings":"AAA;ACkC;ICC;KDG;CDC;AGY;CHC;AIY;CJC;AKiC;mBCM;SDK;wCEU;WCQ;KDuC,CF;CLC;ASsB;gCCI;SDG;0BEE;2BLC;iBKE;aFC;aGE,QH;eIC;KJK;cKC;KLI;iDMC;KNQ;CTI"},"hasCjsExports":true},"type":"js/module"}]}